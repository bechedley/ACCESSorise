{"version":3,"sources":["utils/actions.js","utils/reducers.js","utils/GlobalState.js","utils/queries.js","utils/helpers.js","components/CategoryItem/index.js","components/Categories/index.js","components/Modal/index.js","components/Backdrop/index.js","pages/Home.js","utils/auth.js","components/Product/index.js","pages/ProductList.js","data.js","components/Gallery/index.js","utils/mutations.js","pages/Product.js","components/AllProducts/index.js","pages/Profile.js","pages/Favourites.js","pages/Contact.js","pages/Policies.js","pages/NoMatch.js","pages/Login.js","pages/Signup.js","assets/images/accessorise-logo-shoe.png","components/Nav/index.js","components/Footer/index.js","components/HistoryProduct/index.js","components/History/index.js","pages/BookingHistory.js","App.js","serviceWorker.js","index.js"],"names":["UPDATE_PRODUCTS","UPDATE_CURRENT_PRODUCT","UPDATE_CURRENT_USER","UPDATE_CATEGORIES","UPDATE_CURRENT_CATEGORY","UPDATE_BOOKINGS","reducer","state","action","type","products","bookings","cartOpen","cart","product","map","_id","purchaseQuantity","newState","filter","length","categories","users","currentCategory","currentProduct","currentBooking","currentUser","StoreContext","createContext","Provider","StoreProvider","value","initialState","props","useReducer","dispatch","useStoreContext","useContext","QUERY_PRODUCTS","gql","QUERY_BOOKINGS","QUERY_CATEGORIES","QUERY_USER","QUERY_ME","idbPromise","storeName","method","object","Promise","resolve","reject","db","tx","store","request","window","indexedDB","open","onupgradeneeded","e","result","createObjectStore","keyPath","onerror","console","log","onsuccess","transaction","objectStore","put","all","getAll","delete","oncomplete","close","CategoryItem","useQuery","loading","categoryData","data","useEffect","forEach","category","then","className","to","onClick","id","src","image","title","name","alt","Categories","Modal","children","canCancel","onCancel","canConfirm","onConfirm","btnText","Backdrop","Home","useState","searchState","setSearchState","Fragment","MagnifyingGlassIcon","placeholder","decode","this","getToken","token","isTokenExpired","exp","Date","now","localStorage","removeItem","getItem","idToken","setItem","location","assign","reload","Product","cat","filters","productData","handleProductClick","filterProducts","size","colour","productEach","owner","UserIcon","ProductList","useParams","thisCategory","setThisCategory","productFilters","setProductFilters","productFilterState","setProductFilterState","handleProductFilters","target","loadingProducts","dataProducts","htmlFor","onChange","img","galleryData","Gallery","item","LOGIN","ADD_BOOKING","ADD_USER","ADD_PRODUCT","ADD_FAVOURITE","createBookingState","setCreateBookingState","bookingId","setBookingId","askState","setAskState","favouriteIcon","setFavouriteIcon","bookingDate","bookingFormState","setBookingFormState","message","askFormState","setAskFormState","useMutation","addBooking","addFavourite","handleFavouriteBtn","event","preventDefault","variables","favouriteId","mutationResponse","dataingId","bookProductModalConfirmHandler","bookingStatus","handleAskChange","setCurrentProduct","findbyPk","indexedProducts","tagsArray","tags","pop","reservations","rows","ShareIcon","description","deposit","pid","HeartIcon","uid","tag","index","AllProducts","Profile","userParams","creatingProductState","setCreatingProductState","me","setMe","productId","setProductId","formState","setFormState","addProduct","loadingUser","dataUser","user","Auth","loggedIn","getUser","createProductModalConfirmHandler","productStatus","gallery","handleChange","multiple","username","Favourites","href","Contact","Policies","NoMatch","Login","email","password","login","error","handleFormSubmit","onSubmit","Signup","addUser","Nav","logo","CalendarDaysIcon","UserCircleIcon","logout","Footer","HistoryProduct","History","key","BookingHistory","booking","creator","handleOwnerClick","httpLink","createHttpLink","uri","authLink","setContext","_","headers","authorization","client","ApolloClient","link","concat","cache","InMemoryCache","App","ApolloProvider","path","element","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","render","StrictMode","document","getElementById","URL","process","origin","addEventListener","fetch","response","contentType","get","status","indexOf","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.c975bbc2.chunk.js","sourcesContent":["export const UPDATE_PRODUCTS = \"UPDATE_PRODUCTS\";\r\nexport const UPDATE_CURRENT_PRODUCT = \"UPDATE_CURRENT_PRODUCT\";\r\n\r\nexport const UPDATE_USERS = \"UPDATE_USERS\";\r\nexport const UPDATE_CURRENT_USER = \"UPDATE_CURRENT_USER\";\r\n\r\nexport const ADD_TO_CART = \"ADD_TO_CART\";\r\nexport const ADD_MULTIPLE_TO_CART = \"ADD_MULTIPLE_TO_CART\";\r\nexport const REMOVE_FROM_CART = \"REMOVE_FROM_CART\";\r\nexport const CLEAR_CART = \"CLEAR_CART\";\r\nexport const UPDATE_CART_QUANTITY = \"UPDATE_CART_QUANTITY\";\r\nexport const TOGGLE_CART = \"TOGGLE_CART\";\r\n\r\nexport const UPDATE_CATEGORIES = \"UPDATE_CATEGORIES\";\r\nexport const UPDATE_CURRENT_CATEGORY = \"UPDATE_CURRENT_CATEGORY\";\r\n\r\nexport const UPDATE_BOOKINGS = \"UPDATE_BOOKINGS\";\r\nexport const UPDATE_CURRENT_BOOKING = \"UPDATE_CURRENT_BOOKING\";\r\n","import { useReducer } from 'react';\r\nimport {\r\n  UPDATE_PRODUCTS,\r\n  UPDATE_CURRENT_PRODUCT,\r\n  UPDATE_BOOKINGS,\r\n  UPDATE_CURRENT_BOOKING,\r\n  UPDATE_USERS,\r\n  UPDATE_CURRENT_USER,\r\n  ADD_TO_CART,\r\n  UPDATE_CART_QUANTITY,\r\n  REMOVE_FROM_CART,\r\n  ADD_MULTIPLE_TO_CART,\r\n  UPDATE_CATEGORIES,\r\n  UPDATE_CURRENT_CATEGORY,\r\n  CLEAR_CART,\r\n  TOGGLE_CART,\r\n} from './actions';\r\n\r\n// The reducer is a function that accepts the current state and an action. It returns a new state based on that action.\r\nexport const reducer = (state, action) => {\r\n  switch (action.type) {\r\n    // Returns a copy of state with an update products array. We use the action.products property and spread it's contents into the new array.\r\n    case UPDATE_PRODUCTS:\r\n      return {\r\n        ...state,\r\n        products: [...action.products],\r\n      };\r\n\r\n    case UPDATE_BOOKINGS:\r\n      return {\r\n        ...state,\r\n        bookings: [...action.bookings],\r\n      };\r\n\r\n    case ADD_TO_CART:\r\n      return {\r\n        ...state,\r\n        cartOpen: true,\r\n        cart: [...state.cart, action.product],\r\n      };\r\n    case ADD_MULTIPLE_TO_CART:\r\n      return {\r\n        ...state,\r\n        cart: [...state.cart, ...action.products],\r\n      };\r\n    // Returns a copy of state, sets the cartOpen to true and maps through the items in the cart.\r\n    // If the item's `id` matches the `id` that was provided in the action.payload, we update the purchase quantity.\r\n    case UPDATE_CART_QUANTITY:\r\n      return {\r\n        ...state,\r\n        cartOpen: true,\r\n        cart: state.cart.map((product) => {\r\n          if (action._id === product._id) {\r\n            product.purchaseQuantity = action.purchaseQuantity;\r\n          }\r\n          return product;\r\n        }),\r\n      };\r\n\r\n    // First we iterate through each item in the cart and check to see if the `product._id` matches the `action._id`\r\n    // If so, we remove it from our cart and set the updated state to a variable called `newState`\r\n    case REMOVE_FROM_CART:\r\n      let newState = state.cart.filter((product) => {\r\n        return product._id !== action._id;\r\n      });\r\n\r\n      // Then we return a copy of state and check to see if the cart is empty.\r\n      // If not, we set the cartOpen status to  `true`. Then we return an updated cart array set to the value of `newState`.\r\n      return {\r\n        ...state,\r\n        cartOpen: newState.length > 0,\r\n        cart: newState,\r\n      };\r\n\r\n    case CLEAR_CART:\r\n      return {\r\n        ...state,\r\n        cartOpen: false,\r\n        cart: [],\r\n      };\r\n\r\n    case TOGGLE_CART:\r\n      return {\r\n        ...state,\r\n        cartOpen: !state.cartOpen,\r\n      };\r\n\r\n    case UPDATE_CATEGORIES:\r\n      return {\r\n        ...state,\r\n        categories: [...action.categories],\r\n      };\r\n\r\n    case UPDATE_USERS:\r\n      return {\r\n        ...state,\r\n        users: [...action.users],\r\n      };\r\n\r\n    case UPDATE_CURRENT_CATEGORY:\r\n      return {\r\n        ...state,\r\n        currentCategory: action.currentCategory,\r\n      };\r\n\r\n    case UPDATE_CURRENT_PRODUCT:\r\n      return {\r\n        ...state,\r\n        currentProduct: action.currentProduct,\r\n      };\r\n\r\n    case UPDATE_CURRENT_BOOKING:\r\n      return {\r\n        ...state,\r\n        currentBooking: action.currentBooking,\r\n      };\r\n\r\n    case UPDATE_CURRENT_USER:\r\n      return {\r\n        ...state,\r\n        currentUser: action.currentUser,\r\n      };\r\n\r\n    // Return the state as is in the event that the `action.type` passed to our reducer was not accounted for by the developers\r\n    // This saves us from a crash.\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport function useProductReducer(initialState) {\r\n  return useReducer(reducer, initialState);\r\n}\r\n","import React, { createContext, useContext } from \"react\";\r\nimport { useProductReducer } from './reducers'\r\n\r\nconst StoreContext = createContext();\r\nconst { Provider } = StoreContext;\r\n\r\nconst StoreProvider = ({ value = [], ...props }) => {\r\n  const [state, dispatch] = useProductReducer({\r\n    products: [],\r\n    cart: [],\r\n    cartOpen: false,\r\n    categories: [],\r\n    currentCategory: '',\r\n    bookings: [],\r\n  });\r\n\r\n  return <Provider value={[state, dispatch]} {...props} />;\r\n};\r\n\r\nconst useStoreContext = () => {\r\n  return useContext(StoreContext);\r\n};\r\n\r\nexport { StoreProvider, useStoreContext };\r\n","import { gql } from '@apollo/client';\r\n\r\nexport const QUERY_PRODUCTS = gql`\r\n  {\r\n    products {\r\n      _id\r\n      name\r\n      description\r\n      location\r\n      productStatus\r\n      image\r\n      gallery\r\n      deposit\r\n      size\r\n      colour\r\n      tags\r\n      categories {\r\n        _id\r\n      }\r\n      bookings {\r\n        _id\r\n        bookingDate\r\n        bookingStatus\r\n        creator\r\n      }\r\n      onLoan\r\n      owner\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_BOOKINGS = gql`\r\n{\r\n  bookings {\r\n    _id\r\n    createdDate\r\n    bookingDate\r\n    bookingStatus\r\n    product {\r\n      _id\r\n      name\r\n      owner\r\n    }\r\n    creator {\r\n      _id\r\n      username\r\n    }\r\n  }\r\n}\r\n`;\r\n\r\nexport const QUERY_CHECKOUT = gql`\r\n  query getCheckout($products: [ID]!) {\r\n    checkout(products: $products) {\r\n      session\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_ALL_PRODUCTS = gql`\r\n  {\r\n    products {\r\n      _id\r\n      name\r\n      description\r\n      location\r\n      productStatus\r\n      image\r\n      gallery\r\n      deposit\r\n      size\r\n      colour\r\n      tags\r\n      categories {\r\n        _id\r\n      }\r\n      bookings {\r\n        _id\r\n        bookingDate\r\n        bookingStatus\r\n      }\r\n      onLoan\r\n      owner\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_CATEGORIES = gql`\r\n  {\r\n    categories {\r\n      _id\r\n      name\r\n      image\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_USER = gql`\r\nquery user($_id: ID!) {\r\n  user(_id: $_id) {\r\n    _id\r\n    username\r\n    email\r\n    bookings {\r\n      _id\r\n      bookingDate\r\n      product\r\n      bookingStatus\r\n      createdAt\r\n    }\r\n    products {\r\n      _id\r\n      name\r\n    }\r\n    favourites {\r\n      _id\r\n      name\r\n      owner\r\n    }\r\n    friends {\r\n      _id\r\n      username\r\n    }\r\n  }\r\n}\r\n`;\r\n\r\nexport const QUERY_ME = gql`\r\nquery me {\r\n  me {\r\n    _id\r\n    username\r\n    email\r\n    bookings {\r\n      _id\r\n      bookingDate\r\n      product \r\n      bookingStatus\r\n      createdAt\r\n    }\r\n    products {\r\n      _id\r\n      name\r\n    }\r\n    favourites {\r\n      _id\r\n      name\r\n      owner\r\n    }\r\n    friends {\r\n      _id\r\n      username\r\n    }\r\n  }\r\n}\r\n`;\r\n\r\n\r\nexport const QUERY_USERS = gql`\r\n{\r\n  users {\r\n    _id\r\n    username\r\n    email\r\n    bookings {\r\n      _id\r\n      createdAt\r\n      bookingDate\r\n      bookingStatus\r\n      product\r\n      creator\r\n    }\r\n    products {\r\n      _id\r\n      name\r\n      bookings\r\n      owner\r\n    }\r\n    favourites {\r\n      _id\r\n      name\r\n      owner \r\n    }\r\n    friends {\r\n      _id\r\n      username\r\n    }\r\n  }\r\n}\r\n`;\r\n","export function pluralize(name, count) {\r\n  if (count === 1) {\r\n    return name;\r\n  }\r\n  return name + 's';\r\n}\r\n\r\nexport function idbPromise(storeName, method, object) {\r\n  return new Promise((resolve, reject) => {\r\n    const request = window.indexedDB.open('ACCESSorise', 1);\r\n    let db, tx, store;\r\n    request.onupgradeneeded = function (e) {\r\n      const db = request.result;\r\n      db.createObjectStore('products', { keyPath: '_id' });\r\n      db.createObjectStore('categories', { keyPath: '_id' });\r\n      db.createObjectStore('bookings', { keyPath: '_id' });\r\n      db.createObjectStore('users', { keyPath: '_id' });\r\n      db.createObjectStore('cart', { keyPath: '_id' });\r\n    };\r\n\r\n    request.onerror = function (e) {\r\n      console.log('There was an error');\r\n    };\r\n\r\n    request.onsuccess = function (e) {\r\n      db = request.result;\r\n      tx = db.transaction(storeName, 'readwrite');\r\n      store = tx.objectStore(storeName);\r\n\r\n      db.onerror = function (e) {\r\n        console.log('error', e);\r\n      };\r\n\r\n      switch (method) {\r\n        case 'put':\r\n          store.put(object);\r\n          resolve(object);\r\n          break;\r\n        case 'get':\r\n          const all = store.getAll();\r\n          all.onsuccess = function () {\r\n            resolve(all.result);\r\n          };\r\n          break;\r\n        case 'delete':\r\n          store.delete(object._id);\r\n          break;\r\n        default:\r\n          console.log('No valid method');\r\n          break;\r\n      }\r\n\r\n      tx.oncomplete = function () {\r\n        db.close();\r\n      };\r\n    };\r\n  });\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { useQuery } from '@apollo/client';\r\nimport { useStoreContext } from '../../utils/GlobalState';\r\nimport {\r\n  UPDATE_CATEGORIES,\r\n  UPDATE_CURRENT_CATEGORY,\r\n} from '../../utils/actions';\r\nimport { QUERY_CATEGORIES } from '../../utils/queries';\r\nimport { idbPromise } from '../../utils/helpers';\r\n\r\nconst CategoryItem = (props) => {\r\n  const [state, dispatch] = useStoreContext();\r\n\r\n  const { categories } = state;\r\n\r\n  const { loading, data: categoryData } = useQuery(QUERY_CATEGORIES);\r\n\r\n  useEffect(() => {\r\n    if (categoryData) {\r\n      dispatch({\r\n        type: UPDATE_CATEGORIES,\r\n        categories: categoryData.categories,\r\n      });\r\n      categoryData.categories.forEach((category) => {\r\n        idbPromise('categories', 'put', category);\r\n      });\r\n    } else if (!loading) {\r\n      idbPromise('categories', 'get').then((categories) => {\r\n        dispatch({\r\n          type: UPDATE_CATEGORIES,\r\n          categories: categories,\r\n        });\r\n      });\r\n    }\r\n  }, [categoryData, loading, dispatch]);\r\n\r\n  const handleClick = (id) => {\r\n    dispatch({\r\n      type: UPDATE_CURRENT_CATEGORY,\r\n      currentCategory: id,\r\n    });\r\n  };\r\n\r\n  console.log(categoryData);\r\n\r\n\r\n  return (\r\n    <div className='p-5 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pb-3'>\r\n      {categories.map((category) => (\r\n        <div key={category._id} className='container flex-1 relative mb-2'>\r\n          <Link to={`/categories/${category._id}`} onClick={() => {\r\n            handleClick(`${category._id}`);\r\n          }}>\r\n            <div>\r\n              <img src={category.image} className=\"w-full h-72 object-cover object-center\" title={category.name} alt=\"category image\"></img>\r\n            </div>\r\n            <div className='absolute flex justify-center items-center w-full h-full top-0 left-0 bg-white bg-opacity-60 border-mauve border-4'>\r\n              <h1 className='font-satisfy text-center text-slate text-6xl'>{category.name}</h1>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CategoryItem;","import React, { useEffect } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport CategoryItem from '../CategoryItem';\r\nimport { useQuery } from '@apollo/client';\r\nimport { useStoreContext } from '../../utils/GlobalState';\r\nimport { UPDATE_CATEGORIES } from '../../utils/actions';\r\nimport { QUERY_CATEGORIES } from '../../utils/queries';\r\nimport { idbPromise } from '../../utils/helpers';\r\n\r\nfunction Categories() {\r\n  const [state, dispatch] = useStoreContext();\r\n\r\n  const { categories } = state;\r\n\r\n  const { loading, data: categoryData } = useQuery(QUERY_CATEGORIES);\r\n\r\n  useEffect(() => {\r\n    if (categoryData) {\r\n      dispatch({\r\n        type: UPDATE_CATEGORIES,\r\n        categories: categoryData.categories,\r\n      });\r\n      categoryData.categories.forEach((category) => {\r\n        idbPromise('categories', 'put', category);\r\n      });\r\n    } else if (!loading) {\r\n      idbPromise('categories', 'get').then((categories) => {\r\n        dispatch({\r\n          type: UPDATE_CATEGORIES,\r\n          categories: categories,\r\n        });\r\n      });\r\n    }\r\n  }, [categoryData, loading, dispatch]);\r\n\r\n\r\n  return (\r\n    <div className='container p-5 pb-3'>\r\n      <CategoryItem />\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default Categories;","import React from 'react';\r\n\r\nconst Modal = props => (\r\n    <div className='transition ease-in-out container modal shadow w-2/5 min-h-36 bg-white fixed top-32 inset-x-1/3 bottom-10 rounded z-20 p-5 overscroll-y-auto w-full max-h-full overflow-x-hidden justify-center'>\r\n        <header className='relative flex flex-shrink-0 font-satisfy text-5xl text-mauve text-center modal-header p-3 float-center'>{props.title}</header>\r\n        <div className='modal-content p-3 mb-5 flex flex-auto relative justify-center items-center overflow-y-auto'>{props.children}</div>\r\n        <div className='modal-actions flex flex-shrink-0 flex-wrap justify-end'>\r\n        {props.canCancel && <button type=\"submit\" className=\"p-2 mx-1 px-4 bg-grey rounded-md font-satisfy text-center text-slate text-3xl\" onClick={props.onCancel}>Cancel</button>}\r\n        {props.canConfirm && <button type=\"submit\" className=\"p-2 px-4 bg-blue rounded-md font-satisfy text-center text-slate text-3xl\" onClick={props.onConfirm}>{props.btnText}</button>}\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default Modal;","import React from 'react';\r\n\r\nconst Backdrop = props => (\r\n    <div className='backdrop-blur-sm bg-white/20 fixed top-0 left-0 h-screen w-full z-10'>\r\n    </div>\r\n);\r\n\r\nexport default Backdrop;","import React, { useState } from \"react\";\r\nimport { MagnifyingGlassIcon } from '@heroicons/react/24/solid';\r\nimport Categories from \"../components/Categories\";\r\nimport Modal from \"../components/Modal\";\r\nimport Backdrop from \"../components/Backdrop\";\r\n\r\nconst Home = () => {\r\n    const [searchState, setSearchState] = useState(false);\r\n\r\n    const handleSearchStart = () => {\r\n        setSearchState(true);\r\n    };\r\n\r\n    const searchModalConfirmHandler = () => {\r\n        setSearchState(false);\r\n    }\r\n\r\n    const searchModalDismissHandler = () => {\r\n        setSearchState(false);\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-5 w-screen max-w-screen min-h-screen flex flex-wrap justify-center\">\r\n            <React.Fragment>\r\n                {searchState && <Backdrop />}\r\n                {searchState && <Modal title=\"Search\" btnText=\"Search\" canCancel canConfirm onCancel={searchModalDismissHandler} onConfirm={searchModalConfirmHandler}>\r\n                    <form>\r\n                    <MagnifyingGlassIcon className=\"block m-2 float-left h-6 lg:h-8 w-6 lg:w-8 fill-slate\" />\r\n                    <input className=\"font-mont-alt text-slate\" type=\"text\" name=\"search\" placeholder=\"search\"></input>\r\n                    </form>\r\n                </Modal>}\r\n                <div className=\"container flex flex-wrap sm:flex-nowrap justify-center sm:justify-between items-center px-3\">\r\n                    <div className=\"container p-5 text-center sm:text-left float-left sm:float-left\">\r\n                        <h2 className=\"font-satisfy text-sm sm:text-lg md:text-2xl lg:text-5xl text-slate\">\r\n                            Find the perfect finishing touch...\r\n                        </h2>\r\n                    </div>\r\n\r\n                    <div className=\"float-right\">\r\n                        <button className=\"p-2 px-4 bg-pink rounded-md font-satisfy text-center text-slate text-4xl\" onClick={handleSearchStart}>Search</button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"container\">\r\n                    <Categories />\r\n                </div>\r\n            </React.Fragment>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n","import decode from 'jwt-decode';\r\n\r\nclass AuthService {\r\n  getUser() {\r\n    return decode(this.getToken());\r\n  }\r\n\r\n  loggedIn() {\r\n    // Checks if there is a saved token and it's still valid\r\n    const token = this.getToken();\r\n    return token && !this.isTokenExpired(token) ? true : false;\r\n  }\r\n\r\n  isTokenExpired(token) {\r\n    // Decode the token to get its expiration time that was set by the server\r\n    const decoded = decode(token);\r\n    // If the expiration time is less than the current time (in seconds), the token is expired and we return `true`\r\n    if (decoded.exp < Date.now() / 1000) {\r\n      localStorage.removeItem('id_token');\r\n      return true;\r\n    }\r\n    // If token hasn't passed its expiration time, return `false`\r\n    return false;\r\n  }\r\n\r\n  getToken() {\r\n    // Retrieves the user token from localStorage\r\n    return localStorage.getItem('id_token');\r\n  }\r\n\r\n  login(idToken) {\r\n    // Saves user token to localStorage\r\n    localStorage.setItem('id_token', idToken);\r\n\r\n    window.location.assign('/');\r\n  }\r\n\r\n  logout() {\r\n    // Clear user token and profile data from localStorage\r\n    localStorage.removeItem('id_token');\r\n    // this will reload the page and reset the state of the application\r\n    window.location.reload();\r\n  }\r\n}\r\n\r\nexport default new AuthService();\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useQuery } from '@apollo/client';\r\nimport { Link } from \"react-router-dom\";\r\nimport { useStoreContext } from '../../utils/GlobalState';\r\nimport { UPDATE_CURRENT_USER, UPDATE_CURRENT_PRODUCT, UPDATE_PRODUCTS } from '../../utils/actions';\r\nimport { QUERY_PRODUCTS } from '../../utils/queries';\r\nimport { idbPromise } from '../../utils/helpers';\r\nimport { HeartIcon, UserIcon } from '@heroicons/react/24/solid';\r\nimport Auth from \"../../utils/auth\";\r\n\r\nconst Product = ({ cat, filters }) => {\r\n    const [state, dispatch] = useStoreContext();\r\n\r\n    const { products } = state;\r\n\r\n    const { loading, data: productData } = useQuery(QUERY_PRODUCTS);\r\n\r\n    useEffect(() => {\r\n        if (productData) {\r\n            dispatch({\r\n                type: UPDATE_PRODUCTS,\r\n                products: productData.products,\r\n            });\r\n            productData.products.forEach((product) => {\r\n                idbPromise('products', 'put', product);\r\n            });\r\n        } else if (!loading) {\r\n            idbPromise('products', 'get').then((products) => {\r\n                dispatch({\r\n                    type: UPDATE_PRODUCTS,\r\n                    products: products,\r\n                });\r\n            });\r\n        }\r\n    }, [productData, dispatch]);\r\n\r\n    const handleOwnerClick = (id) => {\r\n        dispatch({\r\n            type: UPDATE_CURRENT_USER,\r\n            currentUser: id,\r\n        });\r\n    };\r\n\r\n    const handleProductClick = (id) => {\r\n        dispatch({\r\n            type: UPDATE_CURRENT_PRODUCT,\r\n            currentProduct: id,\r\n        });\r\n    };\r\n\r\n    console.log(products);\r\n    console.log(filterProducts);\r\n\r\n\r\n    function filterProducts() {\r\n        if (!cat && !filters) {\r\n            return state.products;\r\n\r\n        } else if (cat && !filters) {\r\n            return state.products.filter(\r\n                (product) => product.category._id === cat\r\n            );\r\n\r\n        } else if (cat && filters) {\r\n            return state.products.filter(\r\n                (product) => product.category._id === cat && (product.location == filters.location || product.size == filters.size || product.colour == filters.colour)\r\n            );\r\n\r\n        } else {\r\n            return state.products.filter(\r\n                (product) => product.location == filters.location || product.size == filters.size || product.colour == filters.colour\r\n            );\r\n        }\r\n    }\r\n    // function showButton() {\r\n    //     if (Auth.loggedIn() ) {\r\n    //         <div className='absolute w-full bg-transparent bottom-px left-px items-end justify-end'>\r\n    //         <div className='w-full justify-center items-center transition duration-300 ease-in-out hover:scale-110'>\r\n    //             <button className='w-full bg-pink font-mont-alt text-lg p-3 py-3 border-2 border-mauve' id=\"owner-return\">Mark Returned</button>\r\n    //         </div>\r\n    //     </div>\r\n    //     } else {\r\n    //         <div></div>\r\n    //     };\r\n\r\n    return (\r\n        <div className='p-5 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 pb-3'>\r\n            {filterProducts().map((productEach) => (\r\n                <div className='container flex-1 mb-5' key={productEach._id}>\r\n                    <Link to={`/products/${productEach._id}`} onClick={() => {\r\n                        handleProductClick(`${productEach._id}`);\r\n                    }}>\r\n                        <div className='container relative mb-1'>\r\n                            <div>\r\n                                <img src={productEach.image} className=\"w-full h-64 object-cover object-center border-mauve border-4\" title={productEach.name} alt=\"product image\"></img>\r\n                            </div>\r\n                            {/* Favourite icon = logged in and not owner */}\r\n                            {/* <div className='absolute bg-transparent bottom-px right-px items-end justify-end'>\r\n                    <div className='w10 h10 m-1 p-1 rounded-full bg-white border-mauve border-2 justify-center items-center transition duration-300 ease-in-out hover:scale-110'>\r\n                        <HeartIcon className={Auth.loggedIn() === true ? 'block fill-mauve h-4 w-4' : 'block fill-slate h-4 w-4'}></HeartIcon>\r\n                    </div>\r\n                </div> */}\r\n                            {/* Mark Returned Button = logged in and owner and booked */}\r\n                            {/* <div className='absolute w-full bg-transparent bottom-px left-px items-end justify-end'>\r\n                    <div className='w-full justify-center items-center transition duration-300 ease-in-out hover:scale-110'>\r\n                        <button className='w-full bg-pink font-mont-alt text-lg p-3 py-3 border-2 border-mauve' id=\"owner-return\">Mark Returned</button>\r\n                    </div>\r\n                </div> */}\r\n                            <div className='absolute w-full bg-transparent bottom-px left-px items-end justify-end'>\r\n                                <div className='w-full justify-center items-center transition duration-300 ease-in-out hover:scale-110'>\r\n                                    <button className='w-full bg-pink font-mont-alt text-lg p-3 py-3 border-2 border-mauve' id=\"owner-return\">Mark Returned</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Link>\r\n                    <div className='font-mont-alt text-left text-slate'>\r\n                        <Link to={`/products/${productEach._id}`} onClick={() => {\r\n                            handleProductClick(`${productEach._id}`);\r\n                        }}>\r\n                            <h6 className='text-3xl font-semibold'>{productEach.name}</h6>\r\n                        </Link>\r\n                        <Link to={`/users/${productEach.owner}`} onClick={() => {\r\n                            handleOwnerClick(`${productEach.owner}`);\r\n                        }}>\r\n                            <div className='flex items-center'>\r\n                                <UserIcon className='block fill-pink h-6 w-6'></UserIcon>\r\n                                <p className='px-2 text-2xl'>{productEach.owner}</p>\r\n                            </div>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Product;","import React, { useEffect, useState } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { useQuery } from '@apollo/client';\r\nimport Product from \"../components/Product\";\r\nimport { useStoreContext } from '../utils/GlobalState';\r\nimport { UPDATE_CATEGORIES, UPDATE_PRODUCTS } from '../utils/actions';\r\nimport { QUERY_CATEGORIES, QUERY_PRODUCTS } from '../utils/queries';\r\nimport { idbPromise } from '../utils/helpers';\r\nimport Backdrop from \"../components/Backdrop\";\r\nimport Modal from \"../components/Modal\";\r\n\r\nconst ProductList = () => {\r\n  const [state, dispatch] = useStoreContext();\r\n  const { id } = useParams();\r\n\r\n  const { categories } = state;\r\n\r\n  const [thisCategory, setThisCategory] = useState(id);\r\n\r\n  setThisCategory(id);\r\n\r\n  const [productFilters, setProductFilters] = useState(id);\r\n\r\n  const [productFilterState, setProductFilterState] = useState(false);\r\n\r\n  const handleFilterProductBtn = () => {\r\n    setProductFilterState(true);\r\n  };\r\n\r\n  const filterProductModalDismissHandler = () => {\r\n    setProductFilterState(false);\r\n  };\r\n\r\n  const filterProductModalConfirmHandler = () => {\r\n    setProductFilterState(false);\r\n  };\r\n\r\n  const handleProductFilters = (e) => {\r\n    const value = e.target.value;\r\n    setProductFilters({\r\n      ...productFilters,\r\n      [e.target.name]: value\r\n    })\r\n  }\r\n\r\n  const { currentCategory } = state;\r\n\r\n  const { products } = state;\r\n\r\n  const { loadingProducts, dataProducts } = useQuery(QUERY_PRODUCTS);\r\n\r\n  const { loading, data } = useQuery(QUERY_CATEGORIES);\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      dispatch({\r\n        type: UPDATE_CATEGORIES,\r\n        categories: data.categories,\r\n      });\r\n      data.categories.forEach((category) => {\r\n        idbPromise('categories', 'put', category);\r\n      });\r\n    } else if (!loading) {\r\n      idbPromise('categories', 'get').then((category) => {\r\n        dispatch({\r\n          type: UPDATE_CATEGORIES,\r\n          categories: categories,\r\n        });\r\n      });\r\n    }\r\n  }, [data, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (dataProducts) {\r\n      dispatch({\r\n        type: UPDATE_PRODUCTS,\r\n        categories: data.products,\r\n      });\r\n      data.products.forEach((product) => {\r\n        idbPromise('products', 'put', product);\r\n      });\r\n    } else if (!loadingProducts) {\r\n      idbPromise('products', 'get').then((product) => {\r\n        dispatch({\r\n          type: UPDATE_PRODUCTS,\r\n          products: products,\r\n        });\r\n      });\r\n    }\r\n  }, [id]);\r\n\r\n  function filterCategories() {\r\n    if (!currentCategory) {\r\n      return state.categories;\r\n    }\r\n\r\n    return state.categories.filter(\r\n      (category) => category._id === currentCategory\r\n    );\r\n  }\r\n  \r\n\r\n  return (\r\n    <div className=\"w-screen min-h-screen p-5\">\r\n      <React.Fragment>\r\n        {/* Modal Input */}\r\n        {productFilterState && <Backdrop />}\r\n        {productFilterState && <Modal title=\"Filter Options\" btnText=\"Apply\" canCancel canConfirm onCancel={filterProductModalDismissHandler} onConfirm={filterProductModalConfirmHandler}>\r\n          {/* Form for filtering products */}\r\n          <form className='form-control text-center font-mont-alt text-lg text-slate border-grey border-1 items-stretch'>\r\n            <div className='flex-row space-between p-2'>\r\n              <div>\r\n                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"location\">Location:</label>\r\n              </div>\r\n              <div>\r\n                <select className=\"form-select flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80\" name=\"location\" id=\"filter-location\" onChange={handleProductFilters}>\r\n                  {products.map((product) => (\r\n                    <option\r\n                      key={product._id} value={product.location}>\r\n                      {product.location}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className='flex-row space-between p-2'>\r\n              <div>\r\n                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"size\">Size:</label>\r\n              </div>\r\n              <div>\r\n                <select className=\"form-select flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80\" name=\"size\" id=\"filter-size\" onChange={handleProductFilters}>\r\n                  {products.map((product) => (\r\n                    <option\r\n                      key={product._id} value={product.size}>\r\n                      {product.size}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className='flex-row space-between p-2'>\r\n              <div>\r\n                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"colour\">Colour:</label>\r\n              </div>\r\n              <div>\r\n                <select className=\"form-select flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80\" name=\"colour\" id=\"filter-colour\" onChange={handleProductFilters}>\r\n                  {products.map((product) => (\r\n                    <option\r\n                      key={product._id} value={product.colour}>\r\n                      {product.colour}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </Modal>}\r\n        <div className=\"flex flex-wrap sm:flex-nowrap justify-center sm:justify-between items-center px-3\">\r\n          <div className=\"container p-5 text-center sm:text-left float-left\">\r\n            {filterCategories().map((category) => (\r\n              <h2 className=\"font-satisfy text-lg sm:text-3xl lg:text-5xl text-slate\" key={category._id}>{category.name}\r\n              </h2>\r\n            ))}\r\n          </div>\r\n          <div className=\"float-right\">\r\n            <button className=\"p-2 px-4 bg-pink rounded-md font-satisfy text-center text-slate text-4xl\" onClick={handleFilterProductBtn}>Filter</button>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <Product cat={thisCategory} filters={productFilters} />\r\n        </div>\r\n      </React.Fragment>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport default ProductList;","export const categoryImages = [\r\n    {\r\n        id: 1,\r\n        img: \"https://images.pexels.com/photos/1445696/pexels-photo-1445696.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n        name: \"Formal\",\r\n    },\r\n    {\r\n        id: 2,\r\n        img: \"https://images.pexels.com/photos/2285500/pexels-photo-2285500.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n        name: \"Business\",\r\n    },\r\n    {\r\n        id: 3,\r\n        img: \"https://images.pexels.com/photos/1335463/pexels-photo-1335463.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n        name: \"Smart Casual\",\r\n    },\r\n    {\r\n        id: 4,\r\n        img: \"https://images.pexels.com/photos/1453008/pexels-photo-1453008.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n        name: \"Cocktail Party\",\r\n    },\r\n    {\r\n        id: 5,\r\n        img: \"https://images.pexels.com/photos/1460838/pexels-photo-1460838.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n        name: \"Day Wear\",\r\n    },\r\n    {\r\n        id: 6,\r\n        img: \"https://images.pexels.com/photos/336372/pexels-photo-336372.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n        name: \"Night Out\",\r\n    },\r\n\r\n];\r\n\r\nexport const products = [\r\n    {\r\n        id: 1,\r\n        img: \"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n        name: \"Product Name\",\r\n        owner: \"username\",\r\n    },\r\n    {\r\n        id: 2,\r\n        img: \"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n        name: \"Product Name\",\r\n        owner: \"username\",\r\n    },\r\n    {\r\n        id: 3,\r\n        img: \"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n        name: \"Product Name\",\r\n        owner: \"username\",\r\n    },\r\n    {\r\n        id: 4,\r\n        img: \"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n        name: \"Product Name\",\r\n        owner: \"username\",\r\n    },\r\n    {\r\n        id: 5,\r\n        img: \"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n        name: \"Product Name\",\r\n        owner: \"username\",\r\n    },\r\n    {\r\n        id: 6,\r\n        img: \"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n        name: \"Product Name\",\r\n        owner: \"username\",\r\n    },\r\n    {\r\n        id: 7,\r\n        img: \"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n        name: \"Product Name\",\r\n        owner: \"username\",\r\n    },\r\n    {\r\n        id: 8,\r\n        img: \"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n        name: \"Product Name\",\r\n        owner: \"username\",\r\n    },\r\n    {\r\n        id: 9,\r\n        img: \"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n        name: \"Product Name\",\r\n        owner: \"username\",\r\n    },\r\n    {\r\n        id: 10,\r\n        img: \"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n        name: \"Product Name\",\r\n        owner: \"username\",\r\n    },\r\n    {\r\n        id: 11,\r\n        img: \"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n        name: \"Product Name\",\r\n        owner: \"username\",\r\n    },\r\n    {\r\n        id: 12,\r\n        img: \"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n        name: \"Product Name\",\r\n        owner: \"username\",\r\n    },\r\n\r\n];\r\n\r\nexport const galleryData = [\r\n    {\r\n        id: 1,\r\n        img: \"https://images.pexels.com/photos/3682293/pexels-photo-3682293.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n    },\r\n    {\r\n        id: 2,\r\n        img: \"https://images.pexels.com/photos/3682291/pexels-photo-3682291.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n    },\r\n    {\r\n        id: 3,\r\n        img: \"https://images.pexels.com/photos/3682290/pexels-photo-3682290.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n    },\r\n    {\r\n        id: 4,\r\n        img: \"https://images.pexels.com/photos/1229181/pexels-photo-1229181.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n    },\r\n    {\r\n        id: 5,\r\n        img: \"https://images.pexels.com/photos/1229209/pexels-photo-1229209.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\",\r\n    },\r\n\r\n];","import React, { useState } from 'react';\r\nimport { galleryData } from '../../data';\r\n\r\nconst Gallery = () => {\r\n\r\n    return (\r\n        <div className='container overflow-x-auto my-2.5 width-full h-44 flex bg-grey bg-opacity-10 relative justify-between'>\r\n            <div className='h-44 flex items-center justify-between gap-4 p-2 transition-all ease-in-out delay-300'>\r\n                {galleryData.map(item=>(\r\n                <div className='flex items-center justify-center'\r\n                key={item.id}>\r\n                    <div className='flex-1 items-center justify-center w-44'>\r\n                        <img src={item.img} alt=\"alt-product-image\" className='h-32 w-auto object-cover object-center'></img>\r\n                    </div>\r\n                </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Gallery;","import { gql } from '@apollo/client';\r\n\r\nexport const LOGIN = gql`\r\n  mutation login($email: String!, $password: String!) {\r\n    login(email: $email, password: $password) {\r\n      token\r\n      user {\r\n        _id\r\n        username\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_BOOKING = gql`\r\n  mutation addBooking(\r\n    $bookingDate: String!,\r\n    $bookingStatus: String!,\r\n    $product: ID!\r\n  ) {\r\n    addBooking(\r\n      bookingDate: $bookingDate,\r\n      bookingStatus: $bookingStatus,\r\n      product: $product\r\n    ) {\r\n      booking {\r\n        _id\r\n        createdDate\r\n        bookingDate\r\n        bookingStatus\r\n        product {\r\n          _id\r\n          name\r\n          owner\r\n        }\r\n        creator {\r\n          _id\r\n          username\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_USER = gql`\r\n  mutation addUser(\r\n    $username: String!,\r\n    $email: String!,\r\n    $password: String!\r\n  ) {\r\n    addUser(\r\n      username: $username,\r\n      email: $email,\r\n      password: $password\r\n    ) {\r\n      token\r\n      user {\r\n        _id\r\n        username\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_PRODUCT = gql`\r\n  mutation addProduct(\r\n    $name: String!,\r\n    $description: String!,\r\n    $location: String!,\r\n    $productStatus: String!,\r\n    $image: String!,\r\n    $gallery: [String],\r\n    $deposit: Float,\r\n    $size: String,\r\n    $colour: String,\r\n    $tags: [String],\r\n    $categories: [ID]\r\n  ) {\r\n    addProduct(\r\n      name: $name,\r\n      description: $description,\r\n      location: $location,\r\n      productStatus: $productStatus,\r\n      image: $image,\r\n      gallery: $gallery,\r\n      deposit: $deposit,\r\n      size: $size,\r\n      colour: $colour,\r\n      tags: $tags,\r\n      categories: $categories\r\n    ) {\r\n      product {\r\n        _id\r\n        name\r\n        description\r\n        location\r\n        productStatus\r\n        image\r\n        gallery\r\n        deposit\r\n        size\r\n        colour\r\n        tags\r\n        categories\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport const UPDATE_BOOKING = gql`\r\n  mutation updateBooking(\r\n    $id: ID!,\r\n    $bookingDate: String!,\r\n    $bookingStatus: String!,\r\n    $product: ID!,\r\n    $creator: ID\r\n  ) {\r\n    updateBooking(\r\n      _id: $id,\r\n      bookingDate: $bookingDate,\r\n      bookingStatus: $bookingStatus,\r\n      product: $product,\r\n      creator: $creator\r\n    ) {\r\n      booking {\r\n        _id\r\n        createdDate\r\n        bookingDate\r\n        bookingStatus\r\n        product {\r\n          _id\r\n          name\r\n          owner\r\n        }\r\n        creator {\r\n          _id\r\n          username\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const UPDATE_PRODUCT = gql`\r\n  mutation updateProduct(\r\n    $_id: ID!,\r\n    $name: String!,\r\n    $description: String!,\r\n    $location: String!,\r\n    $productStatus: String!,\r\n    $image: String!,\r\n    $gallery: [String],\r\n    $deposit: Float,\r\n    $size: String,\r\n    $colour: String,\r\n    $tags: [String],\r\n    $categories: [ID],\r\n    $bookings: [ID],\r\n    $onLoan: Boolean,\r\n    $owner: ID\r\n  ) {\r\n    updateProduct(\r\n      _id: $_id,\r\n      name: $name,\r\n      description: $description,\r\n      location: $location,\r\n      productStatus: $productStatus,\r\n      image: $image,\r\n      gallery: $gallery,\r\n      deposit: $deposit,\r\n      size: $size,\r\n      colour: $colour,\r\n      tags: $tags,\r\n      categories: $categories,\r\n      bookings: $bookings,\r\n      onLoan: $onLoan,\r\n      owner: $owner\r\n    ) {\r\n      product {\r\n        _id\r\n        name\r\n        description\r\n        location\r\n        productStatus\r\n        image\r\n        gallery\r\n        deposit\r\n        size\r\n        colour\r\n        tags\r\n        categories\r\n        bookings {\r\n          _id\r\n          bookingDate\r\n          bookingStatus\r\n          creator\r\n        }\r\n        onLoan\r\n        owner {\r\n          _id\r\n          username\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const REMOVE_PRODUCT = gql`\r\n  mutation removeProduct($productId: ID!) \r\n  {\r\n    removeProduct(\r\n      _id: $productId\r\n    ) {\r\n      product {\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_FAVOURITE = gql`\r\n  mutation addFavourite($userId: ID!, $favouriteId: ID!) {\r\n    addFavourite(userId: $userId, favouriteId: $favouriteId) {\r\n      _id\r\n      username\r\n      favourites {\r\n        _id\r\n        name\r\n        owner\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_FRIEND = gql`\r\n  mutation addFriend($userId: ID!, $friendId: ID!) {\r\n    addFriend(userId: $userId, friendId: $friendId) {\r\n      _id\r\n      username\r\n      friends {\r\n        _id\r\n        username\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { ShareIcon, HeartIcon, UserIcon } from '@heroicons/react/24/solid';\r\nimport Gallery from \"../components/Gallery\";\r\nimport { useQuery, useMutation } from '@apollo/client';\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport Auth from \"../utils/auth\";\r\nimport { useStoreContext } from '../utils/GlobalState';\r\nimport { UPDATE_PRODUCTS } from '../utils/actions';\r\nimport { QUERY_PRODUCTS } from '../utils/queries';\r\nimport { ADD_BOOKING, ADD_FAVOURITE } from '../utils/mutations';\r\nimport { idbPromise } from '../utils/helpers';\r\nimport Backdrop from \"../components/Backdrop\";\r\nimport Modal from \"../components/Modal\";\r\n\r\n\r\nconst Product = () => {\r\n    const [state, dispatch] = useStoreContext();\r\n    const { id } = useParams();\r\n\r\n    const availability = [];\r\n\r\n    \r\n\r\n    const [createBookingState, setCreateBookingState] = useState(false);\r\n\r\n    const [bookingId, setBookingId] = useState('');\r\n\r\n    const [askState, setAskState] = useState(false);\r\n\r\n    const [favouriteIcon, setFavouriteIcon] = useState(false);\r\n\r\n    const [bookingFormState, setBookingFormState] = useState({ bookingDate: '' });\r\n\r\n    const [askFormState, setAskFormState] = useState({ message: '' });\r\n\r\n    const [addBooking] = useMutation(ADD_BOOKING);\r\n\r\n    const [addFavourite] = useMutation(ADD_FAVOURITE);\r\n\r\n    const handleBookBtn = () => {\r\n        setCreateBookingState(true);\r\n    };\r\n\r\n    const handleAskBtn = () => {\r\n        setAskState(true);\r\n    };\r\n\r\n    const handleFavouriteBtn = async (event) => {\r\n        event.preventDefault();\r\n\r\n        const mutationResponse = await addFavourite({\r\n            variables: {\r\n                favouriteId: id,\r\n            },\r\n        });\r\n\r\n        setFavouriteIcon(true);\r\n        console.log(mutationResponse.dataingId);\r\n    };\r\n\r\n    const bookProductModalDismissHandler = () => {\r\n        setCreateBookingState(false);\r\n    };\r\n\r\n    const askModalDismissHandler = () => {\r\n        setAskState(false);\r\n    };\r\n\r\n    const askModalConfirmHandler = () => {\r\n        setAskState(false);\r\n    };\r\n\r\n    const bookProductModalConfirmHandler = async (event) => {\r\n        event.preventDefault();\r\n\r\n        setCreateBookingState(false);\r\n\r\n        const mutationResponse = await addBooking({\r\n            variables: {\r\n                bookingDate: bookingFormState.name,\r\n                bookingStatus: 'active',\r\n                product: id,\r\n            },\r\n        });\r\n\r\n        setBookingId(mutationResponse.data.addBooking._id);\r\n        console.log(bookingId);\r\n    };\r\n\r\n    const handleBookingChange = (event) => {\r\n        const { name, value } = event.target;\r\n        setBookingFormState({\r\n            ...bookingFormState,\r\n            [name]: value,\r\n        });\r\n    };\r\n\r\n    const handleAskChange = (event) => {\r\n        const { name, value } = event.target;\r\n        setAskFormState({\r\n            ...askFormState,\r\n            [name]: value,\r\n        });\r\n    };\r\n\r\n    const [currentProduct, setCurrentProduct] = useState({});\r\n\r\n    const { products } = state;\r\n\r\n    const { loading, data } = useQuery(QUERY_PRODUCTS);\r\n\r\n    useEffect(() => {\r\n        // already in global store\r\n        if (products.length) {\r\n            setCurrentProduct(products.findbyPk((product) => product._id === id));\r\n        }\r\n        // retrieved from server\r\n        else if (data) {\r\n            dispatch({\r\n                type: UPDATE_PRODUCTS,\r\n                products: data.products,\r\n            });\r\n\r\n            data.products.forEach((product) => {\r\n                idbPromise('products', 'put', product);\r\n            });\r\n        }\r\n        // get cache from idb\r\n        else if (!loading) {\r\n            idbPromise('products', 'get').then((indexedProducts) => {\r\n                dispatch({\r\n                    type: UPDATE_PRODUCTS,\r\n                    products: indexedProducts,\r\n                });\r\n            });\r\n        }\r\n    }, [products, data, loading, dispatch, id]);\r\n\r\n    const tags = currentProduct.tags;\r\n    const tagsArray = tags.pop(',');\r\n\r\n    const reservations = currentProduct.bookings;\r\n    console.log(reservations);\r\n\r\n    return (\r\n        <div className=\"w-screen min-h-screen p-5 grid grid-cols-1 md:grid-cols-2\">\r\n            <React.Fragment>\r\n                {/* Modal Input for Bookings*/}\r\n                {createBookingState && <Backdrop />}\r\n                {createBookingState && <Modal title=\"Book this Product\" btnText=\"Confirm\" canCancel canConfirm onCancel={bookProductModalDismissHandler} onConfirm={bookProductModalConfirmHandler}>\r\n                    {/* Form for booking products */}\r\n                    <form className='form-control text-center font-mont-alt text-lg text-slate border-grey border-1 items-stretch'>\r\n                        <div className='flex-row space-between p-2'>\r\n                            <div>\r\n                                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"bookingDate\">Booking Date:</label>\r\n                            </div>\r\n                            <div>\r\n                                <input type=\"datetime-local\" className=\"form-input flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80\" name=\"bookingDate\" id=\"new-bookingDate\" onChange={handleBookingChange}>\r\n                                </input>\r\n                            </div>\r\n                       </div>\r\n                    </form>\r\n                </Modal>}\r\n                {/* Modal Input for Questions*/}\r\n                {askState && <Backdrop />}\r\n                {askState && <Modal title=\"Ask a Question\" btnText=\"Submit\" canCancel canConfirm onCancel={askModalDismissHandler} onConfirm={askModalConfirmHandler}>\r\n                    {/* Form for asking questions */}\r\n                    <p className=\"font-mont-alt text-slate text-sm\">Your question will be sent to the product owner via email.</p>\r\n                    <form className='form-control text-center font-mont-alt text-lg text-slate border-grey border-1 items-stretch'>\r\n                        <div className='flex-row space-between p-2'>\r\n                            <div>\r\n                                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"questionerName\">Name</label>\r\n                            </div>\r\n                            <div>\r\n                                <input type=\"text\" className=\"form-input flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80\" name=\"questionerName\" placeholder=\"your name\" id=\"ask-name\" onChange={handleAskChange}>\r\n                                </input>\r\n                            </div>\r\n                       </div>\r\n                       <div className='flex-row space-between p-2'>\r\n                            <div>\r\n                                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"question\">Question</label>\r\n                            </div>\r\n                            <div>\r\n                                <textarea type=\"textarea\" rows={3} className=\"form-textarea flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80\" name=\"question\" placeholder=\"type your question here\" id=\"ask-question\" onChange={handleAskChange}>\r\n                                </textarea>\r\n                            </div>\r\n                       </div>\r\n                    </form>\r\n                </Modal>}\r\n                <div className=\"float-left p-5\">\r\n                    <div className=\"mb-2\">\r\n                        <img src={currentProduct.image} alt={currentProduct.name}></img>\r\n                    </div>\r\n                    <div className=\"\">\r\n                        <Gallery {...currentProduct} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"float-right p-5\">\r\n                    <div className=\"flex justify-center items-center\">\r\n                        <div>\r\n                            <h1 className=\"font-satisfy text-7xl text-slate text-center\">{currentProduct.name}</h1>\r\n                        </div>\r\n                        <Link to=\"/share\">\r\n                            <ShareIcon className=\"h-10 lg:h-12 w-10 lg:w-12 fill-slate ml-3\" />\r\n                        </Link>\r\n                    </div>\r\n                    <div className='flex items-center justify-center my-2.5'>\r\n                        <UserIcon className='block fill-pink h-6 w-6'></UserIcon>\r\n                        <h6 className='px-2 text-lg'>{currentProduct.owner}</h6>\r\n                    </div>\r\n                    <div className=\"text-left my-5\">\r\n                        <p className=\"font-mont-alt text-slate text-lg\">{currentProduct.description}</p>\r\n                    </div>\r\n                    <div className=\"float-center pb-5\">\r\n                        <ul className=\"flex flex-row justify-between text-center list-none text-xl text-slate font-mont-alt uppercase border-r border-l border-grey divide-x divide-grey\">\r\n                            <li className=\"px-3\">{currentProduct.location}</li>\r\n                            <li className=\"px-3\">Size: {currentProduct.size}</li>\r\n                            <li className=\"px-3\">Colour: {currentProduct.colour}</li>\r\n                            <li className={!currentProduct.deposit ? 'hidden px-3' : 'block px-3'}>Deposit: {currentProduct.deposit}</li>\r\n                        </ul>\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"flex flex-col float-left\">\r\n                            <div className=\"float-left block\">\r\n                                <button className=\"p-2 my-4 px-6 bg-blue rounded-md font-satisfy text-center text-slate text-4xl\" onClick={handleBookBtn} pid={currentProduct._id}>Book</button>\r\n                            </div>\r\n                            <div className=\"float-left block\">\r\n                                <button className=\"p-2 my-4 px-6 bg-blue rounded-md font-satisfy text-center text-slate text-4xl\" onClick={handleFavouriteBtn} pid={currentProduct._id}>\r\n                                    <span><HeartIcon className={favouriteIcon === true ? 'fill-mauve h-6 w-6 mr-1' : 'fill-slate h-6 w-6 mr-1'}></HeartIcon>Favourite</span>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"float-left block\">\r\n                                <button className=\"p-2 my-4 px-6 bg-blue rounded-md font-satisfy text-center text-slate text-4xl\" onClick={handleAskBtn} uid={currentProduct.owner}>Ask a Question</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-row block float-left mt-5\">\r\n                        <h6 className=\"font-mont-alt text-slate text-lg text-left\">Tags:</h6>\r\n                        <ul className=\"flex flex-row flex-wrap font-mont-alt items-center justify-start text-sm text-center text-slate\">\r\n                            {tagsArray.map((tag, index) => (\r\n                                <li className=\"bg-pink p-1 px-3 m-1 uppercase rounded-full\" key={index}>{tag} <button className=\"hidden border-none text-grey\">X</button></li>\r\n                            ))}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Product;","import React, { useEffect, useState } from 'react';\r\nimport Product from '../Product';\r\nimport { useQuery } from '@apollo/client';\r\nimport { useStoreContext } from '../../utils/GlobalState';\r\nimport { UPDATE_PRODUCTS } from '../../utils/actions';\r\nimport { QUERY_PRODUCTS } from '../../utils/queries';\r\nimport { idbPromise } from '../../utils/helpers';\r\n\r\n\r\nfunction AllProducts({ cat, filters }) {\r\n\r\n  return (\r\n    <div className='container p-5 pb-3'>\r\n        <Product cat={cat} filters={filters} />\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default AllProducts;","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useParams, Navigate } from \"react-router-dom\";\r\nimport { useStoreContext } from '../utils/GlobalState';\r\nimport { useQuery, useMutation } from '@apollo/client';\r\nimport { UPDATE_CATEGORIES, UPDATE_CURRENT_USER } from '../utils/actions';\r\nimport { QUERY_CATEGORIES, QUERY_USER, QUERY_ME } from '../utils/queries';\r\nimport { ADD_PRODUCT } from '../utils/mutations';\r\nimport { idbPromise } from '../utils/helpers';\r\nimport { UserIcon } from '@heroicons/react/24/solid';\r\nimport Backdrop from \"../components/Backdrop\";\r\nimport Modal from \"../components/Modal\";\r\nimport AllProducts from \"../components/AllProducts\";\r\nimport Auth from '../utils/auth';\r\n\r\nconst Profile = () => {\r\n    const { id: userParams } = useParams();\r\n    const [state, dispatch] = useStoreContext();\r\n\r\n    const [thisId, setThisId] = useState(userParams)\r\n\r\n    const [creatingProductState, setCreatingProductState] = useState(false);\r\n\r\n    const [me, setMe] = useState(false);\r\n\r\n    const [productId, setProductId] = useState('');\r\n\r\n    const [formState, setFormState] = useState({\r\n        name: '',\r\n        description: ''\r\n    });\r\n\r\n    const { categories } = state;\r\n\r\n    const [addProduct] = useMutation(ADD_PRODUCT);\r\n\r\n    const { loading, data: categoryData } = useQuery(QUERY_CATEGORIES);\r\n\r\n    const { loadingUser, dataUser } = useQuery(userParams ? QUERY_USER : QUERY_ME, {\r\n        variables: { _id: userParams },\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (categoryData) {\r\n            dispatch({\r\n                type: UPDATE_CATEGORIES,\r\n                categories: categoryData.categories,\r\n            });\r\n            categoryData.categories.forEach((category) => {\r\n                idbPromise('categories', 'put', category);\r\n            });\r\n        } else if (!loading) {\r\n            idbPromise('categories', 'get').then((categories) => {\r\n                dispatch({\r\n                    type: UPDATE_CATEGORIES,\r\n                    categories: categories,\r\n                });\r\n            });\r\n        }\r\n    },[categoryData, dispatch]);\r\n\r\n    const user = dataUser?.me || dataUser?.user || {};\r\n    // navigate to personal profile page if username is yours\r\n    if (Auth.loggedIn() && Auth.getUser().data._id === userParams) {\r\n        setMe(true);\r\n    }\r\n\r\n    if (loadingUser) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\n    if (user?._id) {\r\n        return (\r\n            <h4 className=\"font-mont-alt text-large text-slate\">\r\n                You need to be logged in to see this. Use the navigation links above to\r\n                sign up or log in!\r\n            </h4>\r\n        );\r\n    }\r\n\r\n\r\n    const handleCreateProductStart = () => {\r\n        setCreatingProductState(true);\r\n    };\r\n\r\n    const createProductModalConfirmHandler = async (event) => {\r\n        event.preventDefault();\r\n\r\n        setCreatingProductState(false);\r\n\r\n        const mutationResponse = await addProduct({\r\n            variables: {\r\n                name: formState.name,\r\n                description: formState.description,\r\n                location: formState.location,\r\n                productStatus: formState.productStatus,\r\n                image: formState.image,\r\n                gallery: formState.gallery,\r\n                deposit: formState.deposit,\r\n                size: formState.size,\r\n                colour: formState.colour,\r\n                tags: formState.tags,\r\n                categories: formState.categories,\r\n            },\r\n        });\r\n\r\n        setProductId(mutationResponse.data.addProduct._id);\r\n        console.log(productId);\r\n    };\r\n\r\n    const handleFriendClick = (id) => {\r\n        dispatch({\r\n            type: UPDATE_CURRENT_USER,\r\n            currentUser: id,\r\n        });\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        const value = e.target.value;\r\n        setFormState({\r\n          ...formState,\r\n          [e.target.name]: value\r\n        })\r\n      };\r\n\r\n    const createProductModalDismissHandler = () => {\r\n        setCreatingProductState(false);\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"w-screen min-h-screen p-5 pb-10\">\r\n            <React.Fragment>\r\n                {/* Modal Input */}\r\n                {creatingProductState && <Backdrop />}\r\n                {creatingProductState && <Modal title=\"Add Product\" btnText=\"Add\" canCancel canConfirm onCancel={createProductModalDismissHandler} onConfirm={createProductModalConfirmHandler}>\r\n                    {/* Form for new product */}\r\n                    <form className='form-control text-center font-mont-alt text-lg text-slate border-grey border-1 items-stretch'>\r\n                        <div className='flex-row p-2'>\r\n                            <div>\r\n                                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"name\">Product Name:</label>\r\n                            </div>\r\n                            <div>\r\n                                <input type='text' className=\"form-input flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80\" name=\"name\" id=\"newName\" placeholder='product name' onChange={handleChange}></input>\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex-row space-between p-2'>\r\n                            <div>\r\n                                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"description\">Description:</label>\r\n                            </div>\r\n                            <div>\r\n                                <textarea rows={3} type='text' className=\"form-textarea flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80\" name=\"description\" id=\"newDescription\" placeholder='description' onChange={handleChange}></textarea>\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex-row space-between p-2'>\r\n                            <div>\r\n                                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"location\">Location:</label>\r\n                            </div>\r\n                            <div>\r\n                                <input type='text' className=\"form-input flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80\" name=\"location\" id=\"new-location\" placeholder='pickup city eg. Melbourne' onChange={handleChange}></input>\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex-row space-between p-2'>\r\n                            <div>\r\n                                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"productStatus\">Product Status:</label>\r\n                            </div>\r\n                            <div>\r\n                                <select type='select' className=\"form-select flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80\" name=\"productStatus\" id=\"newProductStatus\" onChange={handleChange}>\r\n                                    <option value=\"public\" key=\"public\">Public</option>\r\n                                    <option value=\"friendsOnly\" key=\"friendsOnly\">Friends Only</option>\r\n                                    <option value=\"hidden\" key=\"hidden\">Hidden</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex-row space-between p-2'>\r\n                            <div>\r\n                                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"image\">Select an image:</label>\r\n                            </div>\r\n                            <div>\r\n                                <input type='file' className=\"form-input flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80\" name=\"image\" id=\"newImage\" placeholder='image url' onChange={handleChange}></input>\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex-row space-between p-2'>\r\n                            <div>\r\n                                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"gallery\">Gallery Images:</label>\r\n                            </div>\r\n                            <div>\r\n                                <input type='text' className=\"form-input flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80\" name=\"gallery\" id=\"newGallery\" placeholder='image url' onChange={handleChange}></input>\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex-row space-between p-2'>\r\n                            <div>\r\n                                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"deposit\">Deposit:</label>\r\n                            </div>\r\n                            <div>\r\n                                <input type='number' className=\"form-input flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80\" name=\"deposit\" id=\"newDeposit\" placeholder='30.00' onChange={handleChange}></input>\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex-row space-between p-2'>\r\n                            <div>\r\n                                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"size\">Size:</label>\r\n                            </div>\r\n                            <div>\r\n                                <input type='text' className=\"form-input flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80\" name=\"size\" id=\"newSize\" placeholder='Eg. universal' onChange={handleChange}></input>\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex-row space-between p-2'>\r\n                            <div>\r\n                                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"colour\">Colour:</label>\r\n                            </div>\r\n                            <div>\r\n                                <input type='text' className=\"form-input flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80\" name=\"colour\" id=\"newColour\" placeholder='colour' onChange={handleChange}></input>\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex-row space-between p-2'>\r\n                            <div>\r\n                                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"tags\">Tags:</label>\r\n                            </div>\r\n                            <div>\r\n                                <input type='text' className=\"form-input flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80\" name=\"tags\" id=\"newTags\" placeholder='separate tag names by comma' onChange={handleChange}></input>\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex-row space-between p-2'>\r\n                            <div>\r\n                                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"categories\">Product Categories:</label>\r\n                            </div>\r\n                            <div>\r\n                                <select multiple=\"true\" className=\"form-multiselect flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80\" name=\"categories\" id=\"newCategories\" onChange={handleChange}>\r\n                                    {categories.map((item) => (\r\n                                        <option\r\n                                            key={item._id} value={item._id}>\r\n                                            {item.name}\r\n                                        </option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </Modal>}\r\n\r\n                <div className=\"flex flex-col float-left\">\r\n                    <div className=\"flex flex-wrap sm:flex-nowrap justify-center sm:justify-between items-center px-3\">\r\n                        <div className=\"flex flex-col  sm:flex-row justify-center md:justify-between items-center\">\r\n                            <div className=\"p-5 text-center sm:text-left float-left\">\r\n                                <div className='flex items-center'>\r\n                                    <UserIcon className='block fill-pink h-6 w-6'></UserIcon>\r\n                                    <h4 className='pl-1 font-satisfy text-xl md:text-2xl lg:text-3xl text-slate'>{me === false ? `${user.username}` : `${Auth.getUser().data.username}`}</h4>\r\n                                </div>\r\n                            </div>\r\n                            {me && (\r\n                                <div className=\"block float-right\">\r\n                                    <h6 className=\"px-1 mx-1 font-mont-alt text-slate text-xs md:text-sm lg:text-lg hover:font-bold\">\r\n                                        <Link to={`/booking-history/${Auth.getUser().data._id}`}>\r\n                                            View Booking History\r\n                                        </Link>\r\n                                    </h6>\r\n                                </div>\r\n                                                    )}\r\n                        </div>\r\n                        {me && (\r\n                        <div className=\"float-left\">\r\n                            <button className=\"p-2 px-4 bg-pink rounded-md font-satisfy text-center text-slate text-4xl\" onClick={handleCreateProductStart}>Add Product</button>\r\n                        </div>\r\n                        )}\r\n                    </div>\r\n                    <div className=\"flex pb-5 p-5\">\r\n                        <AllProducts />\r\n                    </div>\r\n                </div>\r\n                {me && (\r\n                    <div className=\"float-center flex flex-col border-grey border-t p-5 justify-center\">\r\n                        <div className=\"p-5 text-center sm:text-left float-left\">\r\n\r\n                            <h2 className=\"font-satisfy text-lg sm:text-3xl lg:text-5xl text-slate\">\r\n                                Friends\r\n                            </h2>\r\n                        </div>\r\n                        <div>\r\n                            <ul className=\"flex flex-row flex-wrap mb-5 font-mont-alt items-center justify-start text-sm text-center text-slate p-5\">\r\n                                {/* {(me).map((friend) => (\r\n                                    <li key={friend._id} className=\"border-mauve flex items-center justify-center border p-2 px-3 m-1 rounded-xl hover:bg-grey hover:bg-opacity-10 hover:font-bold hover:border-2\">\r\n                                        <Link to={`/users/${friend._id}`}><UserIcon className='block float-left fill-mauve h-6 w-6' onClick={() => {\r\n                                            handleFriendClick(`${friend._id}`);\r\n                                        }}></UserIcon>{friend.username}\r\n                                        </Link>\r\n                                    </li>))} */}\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </React.Fragment>\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport AllProducts from \"../components/AllProducts\";\r\n\r\nconst Favourites = () => {\r\n    return (\r\n        <div className=\"w-screen min-h-screen p-5\">\r\n            <div className=\"flex flex-wrap sm:flex-nowrap justify-center sm:justify-between items-center px-3\">\r\n                <div className=\"container p-5 text-center sm:text-left float-left\">\r\n                    <h2 className=\"font-satisfy text-lg sm:text-3xl lg:text-5xl text-slate\">\r\n                        Favourites\r\n                    </h2>\r\n                </div>\r\n                <div className=\"float-right\">\r\n                    <button className=\"p-2 px-4 bg-pink rounded-md font-satisfy text-center text-slate text-4xl\" href=\"#\">Filter</button>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <AllProducts />\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default Favourites;","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Contact = () => {\r\n    return (\r\n        <div className=\"p-5 min-h-screen w-screen\">\r\n            <div className='flex-col justify-center border-grey border-1 mb-10'>\r\n                <h2 className='font-satisfy text-5xl text-mauve text-center p-5'>Get in Touch</h2>\r\n                <div className='flex-col block justify-center'>\r\n                    <form className='text-center font-mont-alt text-lg text-slate border-grey border-1'>\r\n                        <div className='flex-row space-between p-2'>\r\n                            <div>\r\n                                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"name\">Name:</label>\r\n                            </div>\r\n                            <div>\r\n                                <input type='text' className=\"flex-1 m-1 shadow font-mont-alt text-slate text-sm\" name=\"name\" id=\"name\" placeholder='name'></input>\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex-row space-between p-2'>\r\n                            <div>\r\n                                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"email\">Email:</label>\r\n                            </div>\r\n                            <div>\r\n                                <input type='email' className=\"flex-1 m-1 shadow font-mont-alt text-slate text-sm\" name=\"email\" id=\"email\" placeholder='email'></input>\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex-row space-between p-2'>\r\n                            <div>\r\n                                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"message\">Message:</label>\r\n                            </div>\r\n                            <div>\r\n                                <textarea type='textarea' className=\"flex-1 m-1 h-36 shadow font-mont-alt text-slate text-sm\" name=\"message\" id=\"message\" placeholder='write your message here' rows={4}></textarea>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"float-center p-5\">\r\n                            <button type=\"submit\" className=\"p-2 px-4 bg-blue rounded-md font-satisfy text-center text-slate text-3xl\">Submit</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div className='flex justify-center'>\r\n                    <p className='text-center text-slate text-lg font-mont-alt'>We aim to respond within 5 business days. <br></br>Please keep an eye on your emails and double check your spam folder.</p>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default Contact;","import React from 'react';\r\n\r\nconst Policies = () => {\r\n    return (\r\n        <div className=\"w-screen min-h-screen p-20 h-full\">\r\n            <div className=\"m-10\">\r\n                <div className='p-2 py-5 text-left'>\r\n                    <h2 className='font-satisfy text-slate text-6xl'>Our Policies</h2>\r\n                </div>\r\n                <div className='p-2 py-2 text-left'>\r\n                    <h4 className='font-mont-alt text-xl text-mauve'>Sub Heading</h4>\r\n                </div>\r\n\r\n                <div className='p-2 m-2 text-left'>\r\n                    <p className='font-mont-alt text-slate'>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.\r\n                        <br></br>\r\n                        Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.\r\n                        <br></br>\r\n                        Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default Policies;","import React from \"react\";\r\n\r\nconst NoMatch = () => {\r\n  return (\r\n    <div className=\"w-screen min-h-screen flex flex-col justify-center p-5\">\r\n        <h1 className=\"p-5 text-center text-5xl text-grey\">404 Page Not Found</h1>\r\n        <div className=\"\">\r\n        <h1 className=\"font-satisfy text-blue text-7xl text-center p-5\">Oops! Looks like this page is missing.\r\n        </h1>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NoMatch;\r\n","import React, { useState } from 'react';\r\nimport { useMutation } from '@apollo/client';\r\nimport { Link } from 'react-router-dom';\r\nimport { LOGIN } from '../utils/mutations';\r\nimport Auth from '../utils/auth';\r\n\r\nconst Login = (props) => {\r\n    const [formState, setFormState] = useState({ email: '', password: '' });\r\n    const [login, { error }] = useMutation(LOGIN);\r\n\r\n    const handleFormSubmit = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            const mutationResponse = await login({\r\n                variables: { email: formState.email, password: formState.password },\r\n            });\r\n            const token = mutationResponse.data.login.token;\r\n            Auth.login(token);\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n\r\n    const handleChange = (event) => {\r\n        const { name, value } = event.target;\r\n        setFormState({\r\n            ...formState,\r\n            [name]: value,\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-5 min-h-screen w-screen\">\r\n            <div className='flex-col justify-center border-grey border-1 mb-10'>\r\n                <h2 className='font-satisfy text-5xl text-mauve text-center p-5'>Log Into Your Account</h2>\r\n                <div className='flex-col block justify-center'>\r\n                    <form onSubmit={handleFormSubmit} className='text-center font-mont-alt text-lg text-slate border-grey border-1'>\r\n                        <div className='flex-row space-between p-2'>\r\n                            <div>\r\n                                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"email\">Email:</label>\r\n                            </div>\r\n                            <div>\r\n                                <input type='email' className=\"flex-1 m-1 shadow font-mont-alt text-slate text-sm\" name=\"email\" id=\"email\" placeholder='email' onChange={handleChange}></input>\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex-row space-between p-2'>\r\n                            <div>\r\n                                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"password\">Password:</label>\r\n                            </div>\r\n                            <div>\r\n                                <input type='password' className=\"flex-1 m-1 shadow font-mont-alt text-slate text-sm\" name=\"password\" id=\"pwd\" placeholder='password' onChange={handleChange}></input>\r\n                            </div>\r\n                        </div>\r\n                        {error ? (\r\n                            <div>\r\n                                <p className=\"font-mont-alt text-red\">The provided credentials are incorrect</p>\r\n                            </div>\r\n                        ) : null}\r\n                        <div className=\"float-center p-5\">\r\n                            <button type=\"submit\" className=\"p-2 px-4 bg-blue rounded-md font-satisfy text-center text-slate text-3xl\">Login</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div className='flex justify-center'>\r\n                    <Link to=\"/signup\" className='text-center text-slate text-lg font-mont-alt'> Sign Up for an Account</Link>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default Login;","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useMutation } from '@apollo/client';\r\nimport Auth from '../utils/auth';\r\nimport { ADD_USER } from '../utils/mutations';\r\n\r\nconst Signup = () => {\r\n    const [formState, setFormState] = useState({ email: '', password: '' });\r\n\r\n  const [addUser, { error, data }] = useMutation(ADD_USER);\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setFormState({\r\n        ...formState,\r\n        [name]: value,\r\n    });\r\n};\r\n\r\n  // submit form\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n    console.log(formState);\r\n\r\n    try {\r\n      const { data } = await addUser({\r\n        variables: { ...formState },\r\n      });\r\n\r\n      Auth.login(data.addUser.token);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n    return (\r\n        <div className=\"w-screen p-5 min-h-screen\">\r\n            <div className='flex-col justify-center border-grey border-1 mb-10'>\r\n                <h2 className='font-satisfy text-5xl text-mauve text-center p-5'>Create an Account</h2>\r\n                <div className='flex-col block justify-center'>\r\n                    <form className='text-center font-mont-alt text-lg text-slate border-grey border-1' onSubmit={handleFormSubmit}>\r\n                        <div className='flex-row space-between p-2'>\r\n                            <div>\r\n                                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"username\">Username:</label>\r\n                            </div>\r\n                            <div>\r\n                                <input type='text' className=\"shadow flex-1 m-1 font-mont-alt text-slate text-sm\" name=\"username\" id=\"username\" placeholder='username' onChange={handleChange}></input>\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex-row space-between p-2'>\r\n                            <div>\r\n                                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"email\">Email:</label>\r\n                            </div>\r\n                            <div>\r\n                                <input type='email' className=\"shadow flex-1 m-1 font-mont-alt text-slate text-sm\" name=\"email\" id=\"email\" placeholder='email' onChange={handleChange}></input>\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex-row space-between p-2'>\r\n                            <div>\r\n                                <label className=\"font-satisfy text-mauve text-xl\" htmlFor=\"password\">Password:</label>\r\n                            </div>\r\n                            <div>\r\n                                <input type='password' className=\"shadow flex-1 m-1 font-mont-alt text-slate text-sm\" name=\"password\" id=\"pwd\" placeholder='password' onChange={handleChange}></input>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"float-center p-5\">\r\n                            <button type=\"submit\" className=\"p-2 px-4 bg-blue rounded-md font-satisfy text-center text-slate text-3xl\" href=\"#\">Create Account</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div className='flex justify-center'>\r\n                    <Link to=\"/login\" className='text-center text-slate text-lg font-mont-alt'> Go to Login</Link>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default Signup;","export default __webpack_public_path__ + \"static/media/accessorise-logo-shoe.80766fe9.png\";","import React, { useState } from 'react';\r\nimport { UserCircleIcon, HeartIcon, CalendarDaysIcon, MagnifyingGlassIcon } from '@heroicons/react/24/solid';\r\nimport logo from '../../assets/images/accessorise-logo-shoe.png';\r\nimport Auth from \"../../utils/auth\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nfunction Nav() {\r\n\r\n    function showNavigation() {\r\n        if (Auth.loggedIn()) {\r\n            return (\r\n                <ul className=\"flex w-screen max-w-screen max-h-30 list-none lg:ml-auto w-screen items-center max-h-30\">\r\n\r\n                    <li className=\"mx-1\">\r\n                        <Link to=\"/search\">\r\n                            <MagnifyingGlassIcon className=\"h-6 lg:h-8 w-6 lg:w-8 fill-slate\" />\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"mx-1\">\r\n                        <Link to=\"/bookings\">\r\n                            <CalendarDaysIcon className=\"h-6 lg:h-8 w-6 lg:w-8 fill-slate\" />\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"mx-1\">\r\n                        <Link to=\"/favourites\">\r\n                            <HeartIcon className=\"h-6 lg:h-8 w-6 lg:w-8 fill-slate\" />\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"mx-1\">\r\n                        <Link to={`/users/${Auth.getUser().data._id}`}>\r\n                            <UserCircleIcon className=\"h-6 lg:h-8 w-6 lg:w-8 fill-slate\" />\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"px-1 mx-1 font-mont-alt text-slate text-xs md:text-sm lg:text-lg hover:font-bold\">\r\n                        {/* this is not using the Link component to logout or user and then refresh the application to the start */}\r\n                        <a href=\"/\" onClick={() => Auth.logout()}>\r\n                            Logout\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            );\r\n        } else {\r\n            return (\r\n                <ul className=\"flex flex-row list-none lg:ml-auto\">\r\n                    <li className=\"px-1 mx-1 font-mont-alt text-slate text-xs md:text-sm lg:text-lg hover:font-bold\">\r\n                        <Link to=\"/signup\">\r\n                            Signup\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"px-1 mx-1 font-mont-alt text-slate text-xs md:text-sm lg:text-lg hover:font-bold\">\r\n                        <Link to=\"/login\">\r\n                            Login\r\n                        </Link>\r\n                    </li>\r\n                </ul>\r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <nav className=\"bg-blue relative flex flex-wrap items-center justify-between px-2 py-3 mb-3 w-screen\">\r\n            <div className=\"container px-4 mx-auto flex flex-wrap items-center justify-between\">\r\n                <div className=\"w-full relative flex justify-between w-auto block lg:justify-start\">\r\n                    <ul className=\"flex flex-row list-none lg:ml-auto items-center\">\r\n                        <li className=\"mx-1\">\r\n                            <Link to=\"/\">\r\n                                <h1 className='hidden sm:block text-slate font-satisfy lg:text-4xl sm:text-sm md:text-lg'>ACCESSorise</h1>\r\n                            </Link>\r\n                        </li>\r\n                        <li className=\"mx-1\">\r\n                            <Link to=\"/\">\r\n                                <img src={logo} className=\"block h-8 w-auto items-center\" title=\"Accessorise logo\" alt=\"accessorise\" />\r\n                            </Link>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div className='foat-left sm:float-center'>\r\n                    <ul className=\"flex flex-row list-none lg:ml-auto\">\r\n                        <li className=\"hidden sm:block mx-1 font-mont-alt text-slate text-xs md:text-sm lg:text-lg\">\r\n                            <p>ACCESSORIES FOR EVERY OCCASSION</p>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n\r\n                <div className='float-right'>\r\n                    {showNavigation()}\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Nav;","import React from 'react';\r\nimport { ShareIcon, HeartIcon, CalendarDaysIcon, MagnifyingGlassIcon } from '@heroicons/react/24/solid';\r\nimport logo from '../../assets/images/accessorise-logo-shoe.png';\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nfunction Footer() {\r\n\r\n    return (\r\n        <footer className=\"bg-grey relative flex flex-wrap items-center justify-between px-3 py-4 pb-5 w-screen\">\r\n            <div className=\"container px-4 mx-auto flex flex-wrap items-center justify-between\">\r\n                <div className=\"w-full relative flex justify-between w-auto block lg:justify-start\">\r\n                    <ul className=\"flex flex-col list-none lg:ml-auto text-left\">\r\n                        <li className=\"mx-1 font-mont-alt text-slate text-xs md:text-sm lg:text-lg hover:font-bold\">\r\n                            <Link to=\"/policies\">\r\n                                Our policies\r\n                            </Link>\r\n                        </li>\r\n                        <li className=\"mx-1 font-mont-alt text-slate text-xs md:text-sm lg:text-lg hover:font-bold\">\r\n                            <Link to=\"/contact\">\r\n                                Get in touch\r\n                            </Link>\r\n                        </li>\r\n                        <li className=\"mx-1 font-mont-alt text-slate text-xs md:text-sm lg:text-lg hover:font-bold\">\r\n                            <Link to=\"/process\">\r\n                                How it works\r\n                            </Link>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n\r\n                <div className='float-right'>\r\n                    <ul className=\"flex flex-row list-none lg:ml-auto\">\r\n                        <li className=\"mx-1\">\r\n                            <Link to=\"/share\">\r\n                                <ShareIcon className=\"h-6 lg:h-8 w-6 lg:w-8 fill-slate\" />\r\n                            </Link>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React, { useState } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { HeartIcon, UserIcon } from '@heroicons/react/24/solid';\r\nimport Auth from \"../../utils/auth\";\r\n\r\nconst HistoryProduct = (props) => {\r\n    // function showButton() {\r\n    //     if (Auth.loggedIn() ) {\r\n    //         <div className='absolute w-full bg-transparent bottom-px left-px items-end justify-end'>\r\n    //         <div className='w-full justify-center items-center transition duration-300 ease-in-out hover:scale-110'>\r\n    //             <button className='w-full bg-pink font-mont-alt text-lg p-3 py-3 border-2 border-mauve' id=\"borrower-return\">Mark Returned</button>\r\n    //         </div>\r\n    //     </div>\r\n    //     } else {\r\n    //         <div></div>\r\n    //     };\r\n\r\n    return (\r\n        <div className='container flex-1 mb-5'>\r\n            <Link to={`/products/${props._id}`}>\r\n                <div className='container relative mb-1'>\r\n                    <div>\r\n                        <a href=\"#\" alt=\"product-page\">\r\n                            <img src={props.img} className=\"w-full h-64 object-cover object-center border-mauve border-4\" title={props.name} alt=\"product image\"></img>\r\n                        </a>\r\n                    </div>\r\n\r\n                    {/* Mark Returned Button = logged in and booked and past */}\r\n                    {/* <div className='absolute w-full bg-transparent bottom-px left-px items-end justify-end'>\r\n                    <div className='w-full justify-center items-center transition duration-300 ease-in-out hover:scale-110'>\r\n                        <button className='w-full bg-pink font-mont-alt text-lg p-3 py-3 border-2 border-mauve' id=\"borrower-return\">Mark Returned</button>\r\n                    </div>\r\n                </div> */}\r\n                    {/* Completed Button = logged in and booked and completed */}\r\n                    {/* <div className='absolute w-full bg-transparent bottom-px left-px items-end justify-end'>\r\n                    <div className='w-full justify-center items-center transition duration-300 ease-in-out hover:scale-110'>\r\n                        <button className='disabled w-full bg-blue font-mont-alt text-lg p-3 py-3 border-2 border-mauve text-grey' id=\"btn-completed\">Returned DATE</button>\r\n                    </div>\r\n                </div> */}\r\n                    {/* Edit Button = logged in and booked and upcoming and creator */}\r\n                    <div className='absolute w-full bg-transparent bottom-px left-px items-end justify-end'>\r\n                        <div className='w-full justify-center items-center transition duration-300 ease-in-out hover:scale-110'>\r\n                            <button className='w-full bg-blue font-mont-alt text-lg p-3 py-3 border-2 border-mauve' id=\"edit-booking\">Edit Booking</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n            <div className='font-mont-alt text-left text-slate'>\r\n                <Link to={`/products/${props._id}`}>\r\n                    <h6 className='text-3xl font-semibold'>{props.name}</h6>\r\n                </Link>\r\n                <Link to={`/users/${props.owner}`}>\r\n                    <div className='flex items-center'>\r\n                        <UserIcon className='block fill-pink h-6 w-6'></UserIcon>\r\n                        <p className='px-2 text-2xl'>{props.owner}</p>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        </div >\r\n\r\n    );\r\n}\r\n\r\nexport default HistoryProduct;","import React, { useState } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { products } from '../../data';\r\nimport HistoryProduct from '../HistoryProduct';\r\n\r\n\r\nfunction History() {\r\n\r\n    return (\r\n        <div className='container p-5 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 pb-3'>\r\n            {products.map((productEach) => (\r\n                <HistoryProduct {...productEach} key={productEach.id} />\r\n            ))}\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default History;","import React, { useState, useEffect } from \"react\";\r\nimport History from \"../components/History\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { useStoreContext } from '../utils/GlobalState';\r\nimport { useQuery } from '@apollo/client';\r\nimport { UPDATE_BOOKINGS, UPDATE_PRODUCTS, UPDATE_CURRENT_PRODUCT, UPDATE_CURRENT_USER } from '../utils/actions';\r\nimport { QUERY_USERS, QUERY_PRODUCTS, QUERY_BOOKINGS } from '../utils/queries';\r\nimport { UserIcon } from '@heroicons/react/24/solid';\r\nimport { idbPromise } from '../utils/helpers';\r\n\r\nconst BookingHistory = () => {\r\n    const [state, dispatch] = useStoreContext();\r\n    const { id } = useParams();\r\n  \r\n    const { users } = state;\r\n    const { products } = state;\r\n    const { bookings } = state;\r\n\r\n    const { currentUser } = state;\r\n\r\n    const { loadingProducts, dataProducts } = useQuery(QUERY_PRODUCTS);\r\n\r\n    const { loading, data } = useQuery(QUERY_BOOKINGS);\r\n\r\n    useEffect(() => {\r\n        if (data) {\r\n          dispatch({\r\n            type: UPDATE_BOOKINGS,\r\n            bookings: data.bookings,\r\n          });\r\n          data.bookings.forEach((booking) => {\r\n            idbPromise('bookings', 'put', booking);\r\n          });\r\n        } else if (!loading) {\r\n          idbPromise('bookings', 'get').then((booking) => {\r\n            dispatch({\r\n              type: UPDATE_BOOKINGS,\r\n              bookings: bookings,\r\n            });\r\n          });\r\n        }\r\n      }, [data, loading, dispatch], 0);\r\n    \r\n      useEffect(() => {\r\n        if (dataProducts) {\r\n          dispatch({\r\n            type: UPDATE_PRODUCTS,\r\n            categories: data.products,\r\n          });\r\n          data.products.forEach((product) => {\r\n            idbPromise('products', 'put', product);\r\n          });\r\n        } else if (!loadingProducts) {\r\n          idbPromise('products', 'get').then((product) => {\r\n            dispatch({\r\n              type: UPDATE_PRODUCTS,\r\n              products: products,\r\n            });\r\n          });\r\n        }\r\n      }, [products, dataProducts, loadingProducts, dispatch, id], 0);\r\n\r\n    const filterBookings = () => {\r\n      return state.bookings.filter(\r\n        (bookings) => bookings.creator === currentUser\r\n      );\r\n    }\r\n\r\n    const handleProductClick = (id) => {\r\n        dispatch({\r\n            type: UPDATE_CURRENT_PRODUCT,\r\n            currentProduct: id,\r\n        });\r\n    };\r\n\r\n    const handleOwnerClick = (id) => {\r\n        dispatch({\r\n            type: UPDATE_CURRENT_USER,\r\n            currentUser: id,\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"w-screen min-h-screen p-5 pb-10\">\r\n            <div className=\"flex flex-col float-left\">\r\n                <div className=\"flex flex-wrap sm:flex-nowrap justify-center sm:justify-between items-center px-3\">\r\n                    <div className=\"flex flex-col  sm:flex-row justify-center md:justify-between items-center\">\r\n                        <div className=\"p-5 text-center sm:text-left float-left\">\r\n                            <div className='flex items-center'>\r\n                                <h4 className='pl-1 font-satisfy text-xl md:text-2xl lg:text-3xl text-slate'>Booking History</h4>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"block float-right\">\r\n                            <h6 className=\"px-1 mx-1 font-mont-alt text-slate text-xs md:text-sm lg:text-lg hover:font-bold\">\r\n                                <Link to=\"/me\">\r\n                                    Back to Profile\r\n                                </Link>\r\n                            </h6>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"float-left\">\r\n                        <h5 className='mx-10 font-satisfy text-xl md:text-2xl lg:text-4xl text-mauve'>Upcoming</h5>\r\n                    </div>\r\n                <div className=\"flex pb-5 p-5\">\r\n                {filterBookings().map((booking) => (\r\n                                    <div className='container flex-1 mb-5' key={booking._id}>\r\n                                    <Link to={`/products/${booking.product._id}`} onClick={() => {\r\n                                        handleProductClick(`${booking.product._id}`);\r\n                                    }}>\r\n                                        <div className='container relative mb-1'>\r\n                                            <div>\r\n                                                <img src={booking.product.image} className=\"w-full h-64 object-cover object-center border-mauve border-4\" title={booking.product.name} alt=\"product image\"></img>\r\n                                            </div>\r\n                                            {/* Favourite icon = logged in and not owner */}\r\n                                            {/* <div className='absolute bg-transparent bottom-px right-px items-end justify-end'>\r\n                                    <div className='w10 h10 m-1 p-1 rounded-full bg-white border-mauve border-2 justify-center items-center transition duration-300 ease-in-out hover:scale-110'>\r\n                                        <HeartIcon className={Auth.loggedIn() === true ? 'block fill-mauve h-4 w-4' : 'block fill-slate h-4 w-4'}></HeartIcon>\r\n                                    </div>\r\n                                </div> */}\r\n                                            {/* Mark Returned Button = logged in and owner and booked */}\r\n                                            {/* <div className='absolute w-full bg-transparent bottom-px left-px items-end justify-end'>\r\n                                    <div className='w-full justify-center items-center transition duration-300 ease-in-out hover:scale-110'>\r\n                                        <button className='w-full bg-pink font-mont-alt text-lg p-3 py-3 border-2 border-mauve' id=\"owner-return\">Mark Returned</button>\r\n                                    </div>\r\n                                </div> */}\r\n                                            <div className='absolute w-full bg-transparent bottom-px left-px items-end justify-end'>\r\n                                                <div className='w-full justify-center items-center transition duration-300 ease-in-out hover:scale-110'>\r\n                                                    <button className='w-full bg-pink font-mont-alt text-lg p-3 py-3 border-2 border-mauve' id=\"owner-return\">Mark Returned</button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </Link>\r\n                                    <div className='font-mont-alt text-left text-slate'>\r\n                                        <Link to={`/products/${booking.product._id}`} onClick={() => {\r\n                                            handleProductClick(`${booking.product._id}`);\r\n                                        }}>\r\n                                            <h6 className='text-3xl font-semibold'>{booking.product.name}</h6>\r\n                                        </Link>\r\n                                        <Link to={`/users/${booking.product.owner}`} onClick={() => {\r\n                                            handleOwnerClick(`${booking.product.owner}`);\r\n                                        }}>\r\n                                            <div className='flex items-center'>\r\n                                                <UserIcon className='block fill-pink h-6 w-6'></UserIcon>\r\n                                                <p className='px-2 text-2xl'>{booking.product.owner}</p>\r\n                                            </div>\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n                                ))}\r\n                </div>\r\n                <div className=\"float-left\">\r\n                        <h5 className='mx-10 font-satisfy text-xl md:text-2xl lg:text-4xl text-mauve'>Previous</h5>\r\n                    </div>\r\n                <div className=\"flex pb-5 p-5\">\r\n                    <History />\r\n                </div>\r\n            </div>\r\n            <div className=\"float-center flex flex-col border-grey border-t p-5 justify-center\">\r\n                        <div className=\"p-5 text-center sm:text-left float-left\">\r\n\r\n                        </div>\r\n                        <div>\r\n                \r\n                        </div>\r\n                    </div>\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default BookingHistory;","import React from 'react';\r\nimport {\r\n  ApolloClient,\r\n  InMemoryCache,\r\n  ApolloProvider,\r\n  createHttpLink,\r\n} from '@apollo/client';\r\nimport { setContext } from '@apollo/client/link/context';\r\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\r\n\r\nimport Home from './pages/Home';\r\nimport ProductList from './pages/ProductList';\r\nimport Product from './pages/Product';\r\nimport Profile from './pages/Profile';\r\nimport Favourites from './pages/Favourites';\r\nimport Contact from './pages/Contact';\r\nimport Policies from './pages/Policies';\r\nimport NoMatch from './pages/NoMatch';\r\nimport Login from './pages/Login';\r\nimport Signup from './pages/Signup';\r\nimport Nav from './components/Nav';\r\nimport Footer from './components/Footer';\r\nimport { StoreProvider } from './utils/GlobalState';\r\n// import Success from './pages/Success';\r\nimport BookingHistory from './pages/BookingHistory';\r\n\r\nconst httpLink = createHttpLink({\r\n  uri: '/graphql',\r\n});\r\n\r\nconst authLink = setContext((_, { headers }) => {\r\n  // get the authentication token from local storage if it exists\r\n  const token = localStorage.getItem('id_token');\r\n  // return the headers to the context so httpLink can read them\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: token ? `Bearer ${token}` : '',\r\n    },\r\n  };\r\n});\r\n\r\nconst client = new ApolloClient({\r\n  link: authLink.concat(httpLink),\r\n  cache: new InMemoryCache(),\r\n});\r\n\r\nfunction App() {\r\n  return (\r\n    <ApolloProvider client={client}>\r\n      <Router>\r\n        <div>\r\n          <StoreProvider>\r\n            <Nav />\r\n            <Routes>\r\n              <Route\r\n                path=\"/\"\r\n                element={<Home />}\r\n              />\r\n              <Route\r\n                path=\"/login\"\r\n              element={<Login />} \r\n              />\r\n              <Route\r\n                path=\"/me\"\r\n              element={<Profile />} \r\n              />\r\n              <Route\r\n                path=\"/users/:id\"\r\n              element={<Profile />} \r\n              />\r\n              <Route\r\n                path=\"/favourites\"\r\n              element={<Favourites />} \r\n              />\r\n              <Route\r\n                path=\"/contact\"\r\n              element={<Contact />} \r\n              />\r\n              <Route\r\n                path=\"/policies\"\r\n              element={<Policies />} \r\n              />\r\n              <Route\r\n                path=\"/signup\"\r\n              element={<Signup />} \r\n              />\r\n              <Route\r\n                path=\"/success\"\r\n              // element={<Success />} \r\n              />\r\n              <Route\r\n                path=\"/booking-history\"\r\n              element={<BookingHistory />} \r\n              />\r\n              <Route\r\n                path=\"/categories/:id\"\r\n                element={<ProductList />}\r\n              />\r\n              <Route\r\n                path=\"/products/:id\"\r\n                element={<Product />}\r\n              />\r\n              <Route\r\n                path=\"/bookings/:id\"\r\n                element={<Product />}\r\n              />\r\n              <Route\r\n                path=\"*\"\r\n              element={<NoMatch />} \r\n              />\r\n            </Routes>\r\n            <Footer />\r\n          </StoreProvider>\r\n        </div>\r\n      </Router>\r\n    </ApolloProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n  // [::1] is the IPv6 localhost address.\r\n  window.location.hostname === '[::1]' ||\r\n  // 127.0.0.0/8 are considered localhost for IPv4.\r\n  window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n  )\r\n);\r\n\r\nexport function register(config) {\r\n  if (\r\n    process.env.NODE_ENV === 'production' &&\r\n    'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './assets/main.css'\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();"],"sourceRoot":""}