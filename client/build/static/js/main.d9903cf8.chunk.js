(this["webpackJsonpaccessorise-client"]=this["webpackJsonpaccessorise-client"]||[]).push([[0],{65:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),r=c(56),n=c.n(r),l=(c(65),c(11)),i=c(20),o=c(4),j=c(59),b=c(83),O=c(84),u=c(86),x=c(57),d=c(78),h=c(79),g=c(80),m=c(81),f=c.p+"static/media/accessorise-logo-shoe.80766fe9.png",p=c(25),v=c(26),w=c(48),T=c.n(w),N=new(function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"getProfile",value:function(){return T()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return T()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),k=c(6);var _=function(){return Object(k.jsx)("nav",{className:"bg-blue relative flex flex-wrap items-center justify-between px-2 py-3 mb-3",children:Object(k.jsxs)("div",{className:"container px-4 mx-auto flex flex-wrap items-center justify-between",children:[Object(k.jsx)("div",{className:"w-full relative flex justify-between w-auto block lg:justify-start",children:Object(k.jsxs)("ul",{className:"flex flex-row list-none lg:ml-auto items-center",children:[Object(k.jsx)("li",{className:"mx-1",children:Object(k.jsx)(i.b,{to:"/",children:Object(k.jsx)("img",{src:f,className:"block h-8 w-auto",title:"Accessorise logo",alt:"accessorise"})})}),Object(k.jsx)("li",{className:"mx-1",children:Object(k.jsx)(i.b,{to:"/",children:Object(k.jsx)("h1",{className:"hidden sm:block text-slate font-satisfy p-2 lg:text-4xl sm:text-sm md:text-lg",children:"ACCESSorise"})})})]})}),Object(k.jsx)("div",{className:"float-right",children:N.loggedIn()?Object(k.jsxs)("ul",{className:"flex flex-row list-none lg:ml-auto",children:[Object(k.jsx)("li",{className:"mx-1",children:Object(k.jsx)(i.b,{to:"/search",children:Object(k.jsx)(d.a,{className:"h-6 lg:h-8 w-6 lg:w-8 fill-slate"})})}),Object(k.jsx)("li",{className:"mx-1",children:Object(k.jsx)(i.b,{to:"/bookings",children:Object(k.jsx)(h.a,{className:"h-6 lg:h-8 w-6 lg:w-8 fill-slate"})})}),Object(k.jsx)("li",{className:"mx-1",children:Object(k.jsx)(i.b,{to:"/favourites",children:Object(k.jsx)(g.a,{className:"h-6 lg:h-8 w-6 lg:w-8 fill-slate"})})}),Object(k.jsx)("li",{className:"mx-1",children:Object(k.jsx)(i.b,{to:"/profile",children:Object(k.jsx)(m.a,{className:"h-6 lg:h-8 w-6 lg:w-8 fill-slate"})})}),Object(k.jsx)("li",{className:"mx-1 font-mont-alt text-slate text-xs md:text-sm lg:text-lg hover:font-bold",children:Object(k.jsx)("a",{href:"/",onClick:function(){return N.logout()},children:"Logout"})})]}):Object(k.jsxs)("ul",{className:"flex flex-row list-none lg:ml-auto",children:[Object(k.jsx)("li",{className:"mx-1 font-mont-alt text-slate text-xs md:text-sm lg:text-lg hover:font-bold",children:Object(k.jsx)(i.b,{to:"/signup",children:"Signup"})}),Object(k.jsx)("li",{className:"mx-1 font-mont-alt text-slate text-xs md:text-sm lg:text-lg hover:font-bold",children:Object(k.jsx)(i.b,{to:"/login",children:"Login"})})]})})]})})},y=c(10),A=c(22),C=c(13),E=function(e,t){switch(t.type){case"UPDATE_PRODUCTS":return Object(l.a)(Object(l.a)({},e),{},{products:Object(C.a)(t.products)});case"ADD_TO_CART":return Object(l.a)(Object(l.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(C.a)(e.cart),[t.product])});case"ADD_MULTIPLE_TO_CART":return Object(l.a)(Object(l.a)({},e),{},{cart:[].concat(Object(C.a)(e.cart),Object(C.a)(t.products))});case"UPDATE_CART_QUANTITY":return Object(l.a)(Object(l.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});case"REMOVE_FROM_CART":var c=e.cart.filter((function(e){return e._id!==t._id}));return Object(l.a)(Object(l.a)({},e),{},{cartOpen:c.length>0,cart:c});case"CLEAR_CART":return Object(l.a)(Object(l.a)({},e),{},{cartOpen:!1,cart:[]});case"TOGGLE_CART":return Object(l.a)(Object(l.a)({},e),{},{cartOpen:!e.cartOpen});case"UPDATE_CATEGORIES":return Object(l.a)(Object(l.a)({},e),{},{categories:Object(C.a)(t.categories)});case"UPDATE_CURRENT_CATEGORY":return Object(l.a)(Object(l.a)({},e),{},{currentCategory:t.currentCategory});default:return e}};var R=["value"],D=Object(a.createContext)(),I=D.Provider,S=function(e){e.value;var t,c=Object(A.a)(e,R),s=(t={products:[],cart:[],cartOpen:!1,categories:[],currentCategory:""},Object(a.useReducer)(E,t)),r=Object(y.a)(s,2),n=r[0],i=r[1];return Object(k.jsx)(I,Object(l.a)({value:[n,i]},c))},P=Object(j.a)({uri:"/graphql"}),U=Object(x.a)((function(e,t){var c=t.headers,a=localStorage.getItem("id_token");return{headers:Object(l.a)(Object(l.a)({},c),{},{authorization:a?"Bearer ".concat(a):""})}})),L=new b.a({link:U.concat(P),cache:new O.a});var G=function(){return Object(k.jsx)(u.a,{client:L,children:Object(k.jsx)(i.a,{children:Object(k.jsx)("div",{children:Object(k.jsxs)(S,{children:[Object(k.jsx)(_,{}),Object(k.jsxs)(o.c,{children:[Object(k.jsx)(o.a,{path:"/"}),Object(k.jsx)(o.a,{path:"/login"}),Object(k.jsx)(o.a,{path:"/signup"}),Object(k.jsx)(o.a,{path:"/success"}),Object(k.jsx)(o.a,{path:"/orderHistory"}),Object(k.jsx)(o.a,{path:"/products/:id"}),Object(k.jsx)(o.a,{path:"*"})]})]})})})})};n.a.render(Object(k.jsx)(s.a.StrictMode,{children:Object(k.jsx)(G,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.d9903cf8.chunk.js.map