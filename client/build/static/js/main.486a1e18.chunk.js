(this["webpackJsonpaccessorise-client"]=this["webpackJsonpaccessorise-client"]||[]).push([[0],{82:function(e,t,s){},87:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),a=s(72),r=s.n(a),l=(s(82),s(9)),o=s(75),i=s(103),d=s(105),m=s(102),j=s(73),x=s(11),b=s(6),u=s(8),p=s(94),h=s(107),f=s(20),O=s(17),g="UPDATE_PRODUCTS",v="UPDATE_CURRENT_PRODUCT",N="UPDATE_CURRENT_USER",w="UPDATE_CATEGORIES",y="UPDATE_CURRENT_CATEGORY",k="UPDATE_BOOKINGS",S=function(e,t){switch(t.type){case g:return Object(l.a)(Object(l.a)({},e),{},{products:Object(O.a)(t.products)});case k:return Object(l.a)(Object(l.a)({},e),{},{bookings:Object(O.a)(t.bookings)});case"ADD_TO_CART":return Object(l.a)(Object(l.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(O.a)(e.cart),[t.product])});case"ADD_MULTIPLE_TO_CART":return Object(l.a)(Object(l.a)({},e),{},{cart:[].concat(Object(O.a)(e.cart),Object(O.a)(t.products))});case"UPDATE_CART_QUANTITY":return Object(l.a)(Object(l.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});case"REMOVE_FROM_CART":var s=e.cart.filter((function(e){return e._id!==t._id}));return Object(l.a)(Object(l.a)({},e),{},{cartOpen:s.length>0,cart:s});case"CLEAR_CART":return Object(l.a)(Object(l.a)({},e),{},{cartOpen:!1,cart:[]});case"TOGGLE_CART":return Object(l.a)(Object(l.a)({},e),{},{cartOpen:!e.cartOpen});case w:return Object(l.a)(Object(l.a)({},e),{},{categories:Object(O.a)(t.categories)});case"UPDATE_USERS":return Object(l.a)(Object(l.a)({},e),{},{users:Object(O.a)(t.users)});case y:return Object(l.a)(Object(l.a)({},e),{},{currentCategory:t.currentCategory});case v:return Object(l.a)(Object(l.a)({},e),{},{currentProduct:t.currentProduct});case"UPDATE_CURRENT_BOOKING":return Object(l.a)(Object(l.a)({},e),{},{currentBooking:t.currentBooking});case N:return Object(l.a)(Object(l.a)({},e),{},{currentUser:t.currentUser});default:return e}};var _,$,C,P,D,E,T,A,I=s(0),F=["value"],U=Object(n.createContext)(),L=U.Provider,R=function(e){e.value;var t,s=Object(f.a)(e,F),c=(t={products:[],cart:[],cartOpen:!1,categories:[],currentCategory:"",bookings:[]},Object(n.useReducer)(S,t)),a=Object(u.a)(c,2),r=a[0],o=a[1];return Object(I.jsx)(L,Object(l.a)({value:[r,o]},s))},z=function(){return Object(n.useContext)(U)},B=s(18),G=s(104),q=Object(G.a)(_||(_=Object(B.a)(["\n  {\n    products {\n      _id\n      name\n      description\n      location\n      productStatus\n      image\n      gallery\n      deposit\n      size\n      colour\n      tags\n      categories {\n        _id\n      }\n      bookings {\n        _id\n        bookingDate\n        bookingStatus\n        creator\n      }\n      onLoan\n      owner\n    }\n  }\n"]))),W=Object(G.a)($||($=Object(B.a)(["\n{\n  bookings {\n    _id\n    createdDate\n    bookingDate\n    bookingStatus\n    product {\n      _id\n      name\n      owner\n    }\n    creator {\n      _id\n      username\n    }\n  }\n}\n"]))),M=(Object(G.a)(C||(C=Object(B.a)(["\n  query getCheckout($products: [ID]!) {\n    checkout(products: $products) {\n      session\n    }\n  }\n"]))),Object(G.a)(P||(P=Object(B.a)(["\n  {\n    products {\n      _id\n      name\n      description\n      location\n      productStatus\n      image\n      gallery\n      deposit\n      size\n      colour\n      tags\n      categories {\n        _id\n      }\n      bookings {\n        _id\n        bookingDate\n        bookingStatus\n      }\n      onLoan\n      owner\n    }\n  }\n"]))),Object(G.a)(D||(D=Object(B.a)(["\n  {\n    categories {\n      _id\n      name\n      image\n    }\n  }\n"])))),X=Object(G.a)(E||(E=Object(B.a)(["\nquery user($_id: ID!) {\n  user(_id: $_id) {\n    _id\n    username\n    email\n    bookings {\n      _id\n      bookingDate\n      product\n      bookingStatus\n      createdAt\n    }\n    products {\n      _id\n      name\n    }\n    favourites {\n      _id\n      name\n      owner\n    }\n    friends {\n      _id\n      username\n    }\n  }\n}\n"]))),H=Object(G.a)(T||(T=Object(B.a)(["\nquery me {\n  me {\n    _id\n    username\n    email\n    bookings {\n      _id\n      bookingDate\n      product \n      bookingStatus\n      createdAt\n    }\n    products {\n      _id\n      name\n    }\n    favourites {\n      _id\n      name\n      owner\n    }\n    friends {\n      _id\n      username\n    }\n  }\n}\n"])));Object(G.a)(A||(A=Object(B.a)(["\n{\n  users {\n    _id\n    username\n    email\n    bookings {\n      _id\n      createdAt\n      bookingDate\n      bookingStatus\n      product\n      creator\n    }\n    products {\n      _id\n      name\n      bookings\n      owner\n    }\n    favourites {\n      _id\n      name\n      owner \n    }\n    friends {\n      _id\n      username\n    }\n  }\n}\n"])));function Y(e,t,s){return new Promise((function(n,c){var a,r,l,o=window.indexedDB.open("ACCESSorise",1);o.onupgradeneeded=function(e){var t=o.result;t.createObjectStore("products",{keyPath:"_id"}),t.createObjectStore("categories",{keyPath:"_id"}),t.createObjectStore("bookings",{keyPath:"_id"}),t.createObjectStore("users",{keyPath:"_id"}),t.createObjectStore("cart",{keyPath:"_id"})},o.onerror=function(e){console.log("There was an error")},o.onsuccess=function(c){switch(a=o.result,r=a.transaction(e,"readwrite"),l=r.objectStore(e),a.onerror=function(e){console.log("error",e)},t){case"put":l.put(s),n(s);break;case"get":var i=l.getAll();i.onsuccess=function(){n(i.result)};break;case"delete":l.delete(s._id);break;default:console.log("No valid method")}r.oncomplete=function(){a.close()}}}))}var Q=function(e){var t=z(),s=Object(u.a)(t,2),c=s[0],a=s[1],r=c.categories,l=Object(h.a)(M),o=l.loading,i=l.data;Object(n.useEffect)((function(){i?(a({type:w,categories:i.categories}),i.categories.forEach((function(e){Y("categories","put",e)}))):o||Y("categories","get").then((function(e){a({type:w,categories:e})}))}),[i,o,a]);return console.log(i),Object(I.jsx)("div",{className:"p-5 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pb-3",children:r.map((function(e){return Object(I.jsx)("div",{className:"container flex-1 relative mb-2",children:Object(I.jsxs)(x.b,{to:"/categories/".concat(e._id),onClick:function(){var t;t="".concat(e._id),a({type:y,currentCategory:t})},children:[Object(I.jsx)("div",{children:Object(I.jsx)("img",{src:e.image,className:"w-full h-72 object-cover object-center",title:e.name,alt:"category image"})}),Object(I.jsx)("div",{className:"absolute flex justify-center items-center w-full h-full top-0 left-0 bg-white bg-opacity-60 border-mauve border-4",children:Object(I.jsx)("h1",{className:"font-satisfy text-center text-slate text-6xl",children:e.name})})]})},e._id)}))})};var V,J,K,Z,ee,te,se,ne,ce,ae=function(){var e=z(),t=Object(u.a)(e,2),s=t[0],c=t[1],a=(s.categories,Object(h.a)(M)),r=a.loading,l=a.data;return Object(n.useEffect)((function(){l?(c({type:w,categories:l.categories}),l.categories.forEach((function(e){Y("categories","put",e)}))):r||Y("categories","get").then((function(e){c({type:w,categories:e})}))}),[l,r,c]),Object(I.jsx)("div",{className:"container p-5 pb-3",children:Object(I.jsx)(Q,{})})},re=function(e){return Object(I.jsxs)("div",{className:"transition ease-in-out container modal shadow w-2/5 min-h-36 bg-white fixed top-32 inset-x-1/3 rounded z-20 p-5 overscroll-y-auto w-full max-h-full overflow-x-hidden justify-center",children:[Object(I.jsx)("header",{className:"relative flex flex-shrink-0 font-satisfy text-5xl text-mauve text-center modal-header p-3 float-center",children:e.title}),Object(I.jsx)("div",{className:"modal-content p-3 mb-5 flex flex-auto relative justify-center items-center overflow-y-auto",children:e.children}),Object(I.jsxs)("div",{className:"modal-actions flex flex-shrink-0 flex-wrap justify-end",children:[e.canCancel&&Object(I.jsx)("button",{type:"submit",className:"p-2 mx-1 px-4 bg-grey rounded-md font-satisfy text-center text-slate text-3xl",onClick:e.onCancel,children:"Cancel"}),e.canConfirm&&Object(I.jsx)("button",{type:"submit",className:"p-2 px-4 bg-blue rounded-md font-satisfy text-center text-slate text-3xl",onClick:e.onConfirm,children:e.btnText})]})]})},le=function(e){return Object(I.jsx)("div",{className:"backdrop-blur-sm bg-white/20 fixed top-0 left-0 h-screen w-full z-10"})},oe=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),s=t[0],a=t[1];return Object(I.jsx)("div",{className:"p-5 w-screen max-w-screen min-h-screen flex flex-wrap justify-center",children:Object(I.jsxs)(c.a.Fragment,{children:[s&&Object(I.jsx)(le,{}),s&&Object(I.jsx)(re,{title:"Search",btnText:"Search",canCancel:!0,canConfirm:!0,onCancel:function(){a(!1)},onConfirm:function(){a(!1)},children:Object(I.jsxs)("form",{children:[Object(I.jsx)(p.a,{className:"block m-2 float-left h-6 lg:h-8 w-6 lg:w-8 fill-slate"}),Object(I.jsx)("input",{className:"font-mont-alt text-slate",type:"text",name:"search",placeholder:"search"})]})}),Object(I.jsxs)("div",{className:"container flex flex-wrap sm:flex-nowrap justify-center sm:justify-between items-center px-3",children:[Object(I.jsx)("div",{className:"container p-5 text-center sm:text-left float-left sm:float-left",children:Object(I.jsx)("h2",{className:"font-satisfy text-sm sm:text-lg md:text-2xl lg:text-5xl text-slate",children:"Find the perfect finishing touch..."})}),Object(I.jsx)("div",{className:"float-right",children:Object(I.jsx)("button",{className:"p-2 px-4 bg-pink rounded-md font-satisfy text-center text-slate text-4xl",onClick:function(){a(!0)},children:"Search"})})]}),Object(I.jsx)("div",{className:"container",children:Object(I.jsx)(ae,{})})]})})},ie=s(14),de=s(95),me=s(32),je=s(31),xe=s(64),be=s.n(xe),ue=new(function(){function e(){Object(me.a)(this,e)}return Object(je.a)(e,[{key:"getUser",value:function(){return be()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!(!e||this.isTokenExpired(e))}},{key:"isTokenExpired",value:function(e){return be()(e).exp<Date.now()/1e3&&(localStorage.removeItem("id_token"),!0)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.reload()}}]),e}()),pe=function(e){var t=e.cat,s=(e.own,z()),a=Object(u.a)(s,2),r=a[0],o=a[1],i=(r.currentCategory,Object(h.a)(q)),d=i.loading,m=i.data,j=Object(n.useState)([]),b=Object(u.a)(j,2),p=b[0],f=b[1],O=Object(n.useState)(!1),v=Object(u.a)(O,2),N=v[0],w=v[1],y=function(e){var t=e.target.value;f(Object(l.a)(Object(l.a)({},p),{},Object(ie.a)({},e.target.name,t)))};function k(){return t?r.products.filter((function(e){return e.categories._id===t})):r.products}return Object(n.useEffect)((function(){m?(o({type:g,products:m.products}),m.products.forEach((function(e){Y("products","put",e)}))):d||Y("products","get").then((function(e){o({type:g,products:e})}))}),[m,d,o]),Object(I.jsx)("div",{className:"container flex flex-row gap-6 flex-cols-3 p-5 pb-3",children:Object(I.jsxs)(c.a.Fragment,{children:[N&&Object(I.jsx)(le,{}),N&&Object(I.jsx)(re,{title:"Filter Options",btnText:"Apply",canCancel:!0,canConfirm:!0,onCancel:function(){w(!1)},onConfirm:function(){w(!1)},children:Object(I.jsxs)("form",{className:"form-control text-center font-mont-alt text-lg text-slate border-grey border-1 items-stretch",children:[Object(I.jsxs)("div",{className:"flex-row space-between p-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("label",{className:"font-satisfy text-mauve text-xl",htmlFor:"location",children:"Location:"})}),Object(I.jsx)("div",{children:Object(I.jsx)("select",{className:"form-select flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80",name:"location",id:"filter-location",onChange:y,children:k().map((function(e){return Object(I.jsx)("option",{value:e.location,children:e.location},e._id)}))})})]}),Object(I.jsxs)("div",{className:"flex-row space-between p-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("label",{className:"font-satisfy text-mauve text-xl",htmlFor:"size",children:"Size:"})}),Object(I.jsx)("div",{children:Object(I.jsx)("select",{className:"form-select flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80",name:"size",id:"filter-size",onChange:y,children:k().map((function(e){return Object(I.jsx)("option",{value:e.size,children:e.size},e._id)}))})})]}),Object(I.jsxs)("div",{className:"flex-row space-between p-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("label",{className:"font-satisfy text-mauve text-xl",htmlFor:"colour",children:"Colour:"})}),Object(I.jsx)("div",{children:Object(I.jsx)("select",{className:"form-select flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80",name:"colour",id:"filter-colour",onChange:y,children:k().map((function(e){return Object(I.jsx)("option",{value:e.colour,children:e.colour},e._id)}))})})]})]})}),Object(I.jsx)("div",{className:"float-right",children:Object(I.jsx)("button",{className:"p-2 px-4 bg-pink rounded-md font-satisfy text-center text-slate text-4xl",onClick:function(){w(!0)},children:"Filter"})}),k().map((function(e){return Object(I.jsxs)("div",{className:"container flex-1 mb-5",children:[Object(I.jsx)(x.b,{to:"/products/".concat(e._id),children:Object(I.jsxs)("div",{className:"container relative mb-1",children:[Object(I.jsx)("div",{children:Object(I.jsx)("img",{src:e.image,className:"w-full h-64 object-cover object-center border-mauve border-4",title:e.name,alt:"product image",children:"".concat(console.log(e.tags))})}),Object(I.jsx)("div",{className:"absolute w-full bg-transparent bottom-px left-px items-end justify-end",children:Object(I.jsx)("div",{className:"w-full justify-center items-center transition duration-300 ease-in-out hover:scale-110",children:Object(I.jsx)("button",{className:"w-full bg-pink font-mont-alt text-lg p-3 py-3 border-2 border-mauve",id:"owner-return",children:"Mark Returned"})})})]})}),Object(I.jsxs)("div",{className:"font-mont-alt text-left text-slate",children:[Object(I.jsx)(x.b,{to:"/products/".concat(e._id),children:Object(I.jsx)("h6",{className:"text-3xl font-semibold",children:e.name})}),Object(I.jsx)(x.b,{to:"/users/".concat(e.owner),children:Object(I.jsxs)("div",{className:"flex items-center",children:[Object(I.jsx)(de.a,{className:"block fill-pink h-6 w-6"}),Object(I.jsx)("p",{className:"px-2 text-2xl",children:e.owner})]})})]})]},e._id)}))]})})},he=function(){var e=z(),t=Object(u.a)(e,2),s=t[0],c=t[1],a=Object(b.o)().id,r=s.categories,l=s.currentCategory,o=Object(h.a)(M),i=o.loading,d=o.data;return Object(n.useEffect)((function(){d?(c({type:w,categories:d.categories}),d.categories.forEach((function(e){Y("categories","put",e)}))):i||Y("categories","get").then((function(e){c({type:w,categories:r})}))}),[i,d,c]),Object(I.jsxs)("div",{className:"w-screen min-h-screen p-5",children:[Object(I.jsx)("div",{className:"flex flex-wrap sm:flex-nowrap justify-center sm:justify-between items-center px-3",children:Object(I.jsx)("div",{className:"container p-5 text-center sm:text-left float-left",children:(l?s.categories.filter((function(e){return e._id===a})):s.categories).map((function(e){return Object(I.jsx)("h2",{className:"font-satisfy text-lg sm:text-3xl lg:text-5xl text-slate",children:e.name},e._id)}))})}),Object(I.jsx)("div",{children:Object(I.jsx)(pe,{cat:a,own:""})})]})},fe=s(96),Oe=s(97),ge=[{id:1,img:"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",name:"Product Name",owner:"username"},{id:2,img:"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",name:"Product Name",owner:"username"},{id:3,img:"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",name:"Product Name",owner:"username"},{id:4,img:"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",name:"Product Name",owner:"username"},{id:5,img:"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",name:"Product Name",owner:"username"},{id:6,img:"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",name:"Product Name",owner:"username"},{id:7,img:"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",name:"Product Name",owner:"username"},{id:8,img:"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",name:"Product Name",owner:"username"},{id:9,img:"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",name:"Product Name",owner:"username"},{id:10,img:"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",name:"Product Name",owner:"username"},{id:11,img:"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",name:"Product Name",owner:"username"},{id:12,img:"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",name:"Product Name",owner:"username"}],ve=[{id:1,img:"https://images.pexels.com/photos/3682293/pexels-photo-3682293.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:2,img:"https://images.pexels.com/photos/3682291/pexels-photo-3682291.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:3,img:"https://images.pexels.com/photos/3682290/pexels-photo-3682290.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:4,img:"https://images.pexels.com/photos/1229181/pexels-photo-1229181.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:5,img:"https://images.pexels.com/photos/1229209/pexels-photo-1229209.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"}],Ne=function(){return Object(I.jsx)("div",{className:"container overflow-x-auto my-2.5 width-full h-44 flex bg-grey bg-opacity-10 relative justify-between",children:Object(I.jsx)("div",{className:"h-44 flex items-center justify-between gap-4 p-2 transition-all ease-in-out delay-300",children:ve.map((function(e){return Object(I.jsx)("div",{className:"flex items-center justify-center",children:Object(I.jsx)("div",{className:"flex-1 items-center justify-center w-44",children:Object(I.jsx)("img",{src:e.img,alt:"alt-product-image",className:"h-32 w-auto object-cover object-center"})})},e.id)}))})})},we=function(){return Object(I.jsxs)("div",{className:"w-screen p-5 grid grid-cols-1 md:grid-cols-2",children:[Object(I.jsxs)("div",{className:"float-left p-5",children:[Object(I.jsx)("div",{className:"mb-2",children:Object(I.jsx)("img",{src:"https://images.pexels.com/photos/3682292/pexels-photo-3682292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",className:"w-full max-h-700px object-cover object-center",alt:"product-image"})}),Object(I.jsx)("div",{className:"",children:Object(I.jsx)(Ne,{})})]}),Object(I.jsxs)("div",{className:"float-right p-5",children:[Object(I.jsxs)("div",{className:"flex justify-center items-center",children:[Object(I.jsx)("div",{children:Object(I.jsx)("h1",{className:"font-satisfy text-7xl text-slate text-center",children:"Product Name"})}),Object(I.jsx)(x.b,{to:"/share",children:Object(I.jsx)(fe.a,{className:"h-10 lg:h-12 w-10 lg:w-12 fill-slate ml-3"})})]}),Object(I.jsxs)("div",{className:"flex items-center justify-center my-2.5",children:[Object(I.jsx)(de.a,{className:"block fill-pink h-6 w-6"}),Object(I.jsx)("h6",{className:"px-2 text-lg",children:"Username"})]}),Object(I.jsx)("div",{className:"text-left my-5",children:Object(I.jsx)("p",{className:"font-mont-alt text-slate text-lg",children:"Product description, eg. Red satin high heels, minimal wear. Comfortable for long events. 6cm heel, open toe, strappy."})}),Object(I.jsx)("div",{className:"float-center pb-5",children:Object(I.jsxs)("ul",{className:"flex flex-row justify-between text-center list-none text-xl text-slate font-mont-alt uppercase border-r border-l border-grey divide-x divide-grey",children:[Object(I.jsx)("li",{className:"px-3",children:"Location"}),Object(I.jsx)("li",{className:"px-3",children:"Size: size"}),Object(I.jsx)("li",{className:"px-3",children:"Colour"}),Object(I.jsx)("li",{className:"px-3",children:"Deposit: $30"})]})}),Object(I.jsx)("div",{children:Object(I.jsxs)("div",{className:"flex flex-col float-left",children:[Object(I.jsx)("div",{className:"float-left block",children:Object(I.jsx)("button",{className:"p-2 my-4 px-6 bg-blue rounded-md font-satisfy text-center text-slate text-4xl",href:"#",children:"Book"})}),Object(I.jsx)("div",{className:"float-left block",children:Object(I.jsx)("button",{className:"p-2 my-4 px-6 bg-blue rounded-md font-satisfy text-center text-slate text-4xl",href:"#",children:Object(I.jsxs)("span",{children:[Object(I.jsx)(Oe.a,{className:!0===ue.loggedIn()?"fill-mauve h-6 w-6 mr-1":"fill-slate h-6 w-6 mr-1"}),"Favourite"]})})}),Object(I.jsx)("div",{className:"float-left block",children:Object(I.jsx)("button",{className:"p-2 my-4 px-6 bg-blue rounded-md font-satisfy text-center text-slate text-4xl",href:"#",children:"Ask a Question"})})]})}),Object(I.jsxs)("div",{className:"flex flex-row block float-left mt-5",children:[Object(I.jsx)("h6",{className:"font-mont-alt text-slate text-lg text-left",children:"Tags:"}),Object(I.jsxs)("ul",{className:"flex flex-row flex-wrap font-mont-alt items-center justify-start text-sm text-center text-slate",children:[Object(I.jsxs)("li",{className:"bg-pink p-1 px-3 m-1 uppercase rounded-full",children:["Tag Name ",Object(I.jsx)("button",{className:"border-none text-grey",children:"X"})]}),Object(I.jsxs)("li",{className:"bg-pink p-1 px-3 m-1 uppercase rounded-full",children:["Tag Name ",Object(I.jsx)("button",{className:"border-none text-grey",children:"X"})]}),Object(I.jsxs)("li",{className:"bg-pink p-1 px-3 m-1 uppercase rounded-full",children:["Tag Name ",Object(I.jsx)("button",{className:"border-none text-grey",children:"X"})]}),Object(I.jsxs)("li",{className:"bg-pink p-1 px-3 m-1 uppercase rounded-full",children:["Tag Name ",Object(I.jsx)("button",{className:"border-none text-grey",children:"X"})]}),Object(I.jsxs)("li",{className:"bg-pink p-1 px-3 m-1 uppercase rounded-full",children:["Tag Name ",Object(I.jsx)("button",{className:"border-none text-grey",children:"X"})]}),Object(I.jsxs)("li",{className:"bg-pink p-1 px-3 m-1 uppercase rounded-full",children:["Tag Name ",Object(I.jsx)("button",{className:"border-none text-grey",children:"X"})]}),Object(I.jsxs)("li",{className:"bg-pink p-1 px-3 m-1 uppercase rounded-full",children:["Tag Name ",Object(I.jsx)("button",{className:"border-none text-grey",children:"X"})]}),Object(I.jsxs)("li",{className:"bg-pink p-1 px-3 m-1 uppercase rounded-full",children:["Tag Name ",Object(I.jsx)("button",{className:"border-none text-grey",children:"X"})]})]})]})]})]})},ye=s(10),ke=s(16),Se=s(98),_e=Object(G.a)(V||(V=Object(B.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"]))),$e=(Object(G.a)(J||(J=Object(B.a)(["\n  mutation addBooking(\n    $bookingDate: String!,\n    $bookingStatus: String!,\n    $product: ID!\n  ) {\n    addBooking(\n      bookingDate: $bookingDate,\n      bookingStatus: $bookingStatus,\n      product: $product\n    ) {\n      booking {\n        _id\n        createdDate\n        bookingDate\n        bookingStatus\n        product {\n          _id\n          name\n          owner\n        }\n        creator {\n          _id\n          username\n        }\n      }\n    }\n  }\n"]))),Object(G.a)(K||(K=Object(B.a)(["\n  mutation addUser(\n    $username: String!,\n    $email: String!,\n    $password: String!\n  ) {\n    addUser(\n      username: $username,\n      email: $email,\n      password: $password\n    ) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"])))),Ce=Object(G.a)(Z||(Z=Object(B.a)(["\n  mutation addProduct(\n    $name: String!,\n    $description: String!,\n    $location: String!,\n    $productStatus: String!,\n    $image: String!,\n    $gallery: [String],\n    $deposit: Float,\n    $size: String,\n    $colour: String,\n    $tags: [String],\n    $categories: [ID]\n  ) {\n    addProduct(\n      name: $name,\n      description: $description,\n      location: $location,\n      productStatus: $productStatus,\n      image: $image,\n      gallery: $gallery,\n      deposit: $deposit,\n      size: $size,\n      colour: $colour,\n      tags: $tags,\n      categories: $categories\n    ) {\n      product {\n        _id\n        name\n        description\n        location\n        productStatus\n        image\n        gallery\n        deposit\n        size\n        colour\n        tags\n        categories\n      }\n    }\n  }\n"])));Object(G.a)(ee||(ee=Object(B.a)(["\n  mutation updateBooking(\n    $id: ID!,\n    $bookingDate: String!,\n    $bookingStatus: String!,\n    $product: ID!,\n    $creator: ID\n  ) {\n    updateBooking(\n      _id: $id,\n      bookingDate: $bookingDate,\n      bookingStatus: $bookingStatus,\n      product: $product,\n      creator: $creator\n    ) {\n      booking {\n        _id\n        createdDate\n        bookingDate\n        bookingStatus\n        product {\n          _id\n          name\n          owner\n        }\n        creator {\n          _id\n          username\n        }\n      }\n    }\n  }\n"]))),Object(G.a)(te||(te=Object(B.a)(["\n  mutation updateProduct(\n    $_id: ID!,\n    $name: String!,\n    $description: String!,\n    $location: String!,\n    $productStatus: String!,\n    $image: String!,\n    $gallery: [String],\n    $deposit: Float,\n    $size: String,\n    $colour: String,\n    $tags: [String],\n    $categories: [ID],\n    $bookings: [ID],\n    $onLoan: Boolean,\n    $owner: ID\n  ) {\n    updateProduct(\n      _id: $_id,\n      name: $name,\n      description: $description,\n      location: $location,\n      productStatus: $productStatus,\n      image: $image,\n      gallery: $gallery,\n      deposit: $deposit,\n      size: $size,\n      colour: $colour,\n      tags: $tags,\n      categories: $categories,\n      bookings: $bookings,\n      onLoan: $onLoan,\n      owner: $owner\n    ) {\n      product {\n        _id\n        name\n        description\n        location\n        productStatus\n        image\n        gallery\n        deposit\n        size\n        colour\n        tags\n        categories\n        bookings {\n          _id\n          bookingDate\n          bookingStatus\n          creator\n        }\n        onLoan\n        owner {\n          _id\n          username\n        }\n      }\n    }\n  }\n"]))),Object(G.a)(se||(se=Object(B.a)(["\n  mutation removeProduct($productId: ID!) \n  {\n    removeProduct(\n      _id: $productId\n    ) {\n      product {\n        _id\n      }\n    }\n  }\n"]))),Object(G.a)(ne||(ne=Object(B.a)(["\n  mutation addFavourite($userId: ID!, $favouriteId: ID!) {\n    addFavourite(userId: $userId, favouriteId: $favouriteId) {\n      _id\n      username\n      favourites {\n        _id\n        name\n        owner\n      }\n    }\n  }\n"]))),Object(G.a)(ce||(ce=Object(B.a)(["\n  mutation addFriend($userId: ID!, $friendId: ID!) {\n    addFriend(userId: $userId, friendId: $friendId) {\n      _id\n      username\n      friends {\n        _id\n        username\n      }\n    }\n  }\n"])));var Pe=function(){return Object(I.jsx)("div",{className:"container p-5 pb-3"})},De=function(){var e=Object(b.o)().id,t=z(),s=Object(u.a)(t,2),a=s[0],r=s[1],o=Object(n.useState)(e),i=Object(u.a)(o,2),d=(i[0],i[1],Object(n.useState)(!1)),m=Object(u.a)(d,2),j=m[0],p=m[1],f=Object(n.useState)(!1),O=Object(u.a)(f,2),g=O[0],v=O[1],N=Object(n.useState)(""),y=Object(u.a)(N,2),k=y[0],S=y[1],_=Object(n.useState)({name:"",description:""}),$=Object(u.a)(_,2),C=$[0],P=$[1],D=a.categories,E=Object(Se.a)(Ce),T=Object(u.a)(E,1)[0],A=Object(h.a)(M),F=A.loading,U=A.data,L=Object(h.a)(e?X:H,{variables:{_id:e}}),R=L.loadingUser,B=L.dataUser;Object(n.useEffect)((function(){U?(r({type:w,categories:U.categories}),U.categories.forEach((function(e){Y("categories","put",e)}))):F||Y("categories","get").then((function(e){r({type:w,categories:e})}))}),[U,r]);var G=(null===B||void 0===B?void 0:B.me)||(null===B||void 0===B?void 0:B.user)||{};if(ue.loggedIn()&&ue.getUser().data._id===e&&v(!0),R)return Object(I.jsx)("div",{children:"Loading..."});if(null!==G&&void 0!==G&&G._id)return Object(I.jsx)("h4",{className:"font-mont-alt text-large text-slate",children:"You need to be logged in to see this. Use the navigation links above to sign up or log in!"});var q=function(){var e=Object(ke.a)(Object(ye.a)().mark((function e(t){var s;return Object(ye.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),p(!1),e.next=4,T({variables:{name:C.name,description:C.description,location:C.location,productStatus:C.productStatus,image:C.image,gallery:C.gallery,deposit:C.deposit,size:C.size,colour:C.colour,tags:C.tags,categories:C.categories}});case 4:s=e.sent,S(s.data.addProduct._id),console.log(k);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(e){var t=e.target.value;P(Object(l.a)(Object(l.a)({},C),{},Object(ie.a)({},e.target.name,t)))};return Object(I.jsx)("div",{className:"w-screen min-h-screen p-5 pb-10",children:Object(I.jsxs)(c.a.Fragment,{children:[j&&Object(I.jsx)(le,{}),j&&Object(I.jsx)(re,{title:"Add Product",btnText:"Add",canCancel:!0,canConfirm:!0,onCancel:function(){p(!1)},onConfirm:q,children:Object(I.jsxs)("form",{className:"form-control text-center font-mont-alt text-lg text-slate border-grey border-1 items-stretch",children:[Object(I.jsxs)("div",{className:"flex-row p-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("label",{className:"font-satisfy text-mauve text-xl",htmlFor:"name",children:"Product Name:"})}),Object(I.jsx)("div",{children:Object(I.jsx)("input",{type:"text",className:"form-input flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80",name:"name",id:"newName",placeholder:"product name",onChange:W})})]}),Object(I.jsxs)("div",{className:"flex-row space-between p-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("label",{className:"font-satisfy text-mauve text-xl",htmlFor:"description",children:"Description:"})}),Object(I.jsx)("div",{children:Object(I.jsx)("textarea",{rows:3,type:"text",className:"form-textarea flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80",name:"description",id:"newDescription",placeholder:"description",onChange:W})})]}),Object(I.jsxs)("div",{className:"flex-row space-between p-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("label",{className:"font-satisfy text-mauve text-xl",htmlFor:"location",children:"Location:"})}),Object(I.jsx)("div",{children:Object(I.jsx)("input",{type:"text",className:"form-input flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80",name:"location",id:"new-location",placeholder:"pickup city eg. Melbourne",onChange:W})})]}),Object(I.jsxs)("div",{className:"flex-row space-between p-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("label",{className:"font-satisfy text-mauve text-xl",htmlFor:"productStatus",children:"Product Status:"})}),Object(I.jsx)("div",{children:Object(I.jsxs)("select",{type:"select",className:"form-select flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80",name:"productStatus",id:"newProductStatus",onChange:W,children:[Object(I.jsx)("option",{value:"public",children:"Public"},"public"),Object(I.jsx)("option",{value:"friendsOnly",children:"Friends Only"},"friendsOnly"),Object(I.jsx)("option",{value:"hidden",children:"Hidden"},"hidden")]})})]}),Object(I.jsxs)("div",{className:"flex-row space-between p-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("label",{className:"font-satisfy text-mauve text-xl",htmlFor:"image",children:"Select an image:"})}),Object(I.jsx)("div",{children:Object(I.jsx)("input",{type:"file",className:"form-input flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80",name:"image",id:"newImage",placeholder:"image url",onChange:W})})]}),Object(I.jsxs)("div",{className:"flex-row space-between p-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("label",{className:"font-satisfy text-mauve text-xl",htmlFor:"gallery",children:"Gallery Images:"})}),Object(I.jsx)("div",{children:Object(I.jsx)("input",{type:"text",className:"form-input flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80",name:"gallery",id:"newGallery",placeholder:"image url",onChange:W})})]}),Object(I.jsxs)("div",{className:"flex-row space-between p-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("label",{className:"font-satisfy text-mauve text-xl",htmlFor:"deposit",children:"Deposit:"})}),Object(I.jsx)("div",{children:Object(I.jsx)("input",{type:"number",className:"form-input flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80",name:"deposit",id:"newDeposit",placeholder:"30.00",onChange:W})})]}),Object(I.jsxs)("div",{className:"flex-row space-between p-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("label",{className:"font-satisfy text-mauve text-xl",htmlFor:"size",children:"Size:"})}),Object(I.jsx)("div",{children:Object(I.jsx)("input",{type:"text",className:"form-input flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80",name:"size",id:"newSize",placeholder:"Eg. universal",onChange:W})})]}),Object(I.jsxs)("div",{className:"flex-row space-between p-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("label",{className:"font-satisfy text-mauve text-xl",htmlFor:"colour",children:"Colour:"})}),Object(I.jsx)("div",{children:Object(I.jsx)("input",{type:"text",className:"form-input flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80",name:"colour",id:"newColour",placeholder:"colour",onChange:W})})]}),Object(I.jsxs)("div",{className:"flex-row space-between p-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("label",{className:"font-satisfy text-mauve text-xl",htmlFor:"tags",children:"Tags:"})}),Object(I.jsx)("div",{children:Object(I.jsx)("input",{type:"text",className:"form-input flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80",name:"tags",id:"newTags",placeholder:"separate tag names by comma",onChange:W})})]}),Object(I.jsxs)("div",{className:"flex-row space-between p-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("label",{className:"font-satisfy text-mauve text-xl",htmlFor:"categories",children:"Product Categories:"})}),Object(I.jsx)("div",{children:Object(I.jsx)("select",{multiple:"true",className:"form-multiselect flex-1 m-1 shadow font-mont-alt text-slate text-sm w-80",name:"categories",id:"newCategories",onChange:W,children:D.map((function(e){return Object(I.jsx)("option",{value:e._id,children:e.name},e._id)}))})})]})]})}),Object(I.jsxs)("div",{className:"flex flex-col float-left",children:[Object(I.jsxs)("div",{className:"flex flex-wrap sm:flex-nowrap justify-center sm:justify-between items-center px-3",children:[Object(I.jsxs)("div",{className:"flex flex-col  sm:flex-row justify-center md:justify-between items-center",children:[Object(I.jsx)("div",{className:"p-5 text-center sm:text-left float-left",children:Object(I.jsxs)("div",{className:"flex items-center",children:[Object(I.jsx)(de.a,{className:"block fill-pink h-6 w-6"}),Object(I.jsx)("h4",{className:"pl-1 font-satisfy text-xl md:text-2xl lg:text-3xl text-slate",children:"".concat(!1===g?G.username:ue.getUser().data.username)})]})}),g&&Object(I.jsx)("div",{className:"block float-right",children:Object(I.jsx)("h6",{className:"px-1 mx-1 font-mont-alt text-slate text-xs md:text-sm lg:text-lg hover:font-bold",children:Object(I.jsx)(x.b,{to:"/booking-history/".concat(ue.getUser().data._id),children:"View Booking History"})})})]}),g&&Object(I.jsx)("div",{className:"float-left",children:Object(I.jsx)("button",{className:"p-2 px-4 bg-pink rounded-md font-satisfy text-center text-slate text-4xl",onClick:function(){p(!0)},children:"Add Product"})})]}),Object(I.jsx)("div",{className:"flex pb-5 p-5",children:Object(I.jsx)(Pe,{})})]}),g&&Object(I.jsxs)("div",{className:"float-center flex flex-col border-grey border-t p-5 justify-center",children:[Object(I.jsx)("div",{className:"p-5 text-center sm:text-left float-left",children:Object(I.jsx)("h2",{className:"font-satisfy text-lg sm:text-3xl lg:text-5xl text-slate",children:"Friends"})}),Object(I.jsx)("div",{children:Object(I.jsx)("ul",{className:"flex flex-row flex-wrap mb-5 font-mont-alt items-center justify-start text-sm text-center text-slate p-5"})})]})]})})},Ee=function(){return Object(I.jsxs)("div",{className:"w-screen min-h-screen p-5",children:[Object(I.jsxs)("div",{className:"flex flex-wrap sm:flex-nowrap justify-center sm:justify-between items-center px-3",children:[Object(I.jsx)("div",{className:"container p-5 text-center sm:text-left float-left",children:Object(I.jsx)("h2",{className:"font-satisfy text-lg sm:text-3xl lg:text-5xl text-slate",children:"Favourites"})}),Object(I.jsx)("div",{className:"float-right",children:Object(I.jsx)("button",{className:"p-2 px-4 bg-pink rounded-md font-satisfy text-center text-slate text-4xl",href:"#",children:"Filter"})})]}),Object(I.jsx)("div",{children:Object(I.jsx)(Pe,{})})]})},Te=function(){return Object(I.jsx)("div",{className:"p-5 min-h-screen w-screen",children:Object(I.jsxs)("div",{className:"flex-col justify-center border-grey border-1 mb-10",children:[Object(I.jsx)("h2",{className:"font-satisfy text-5xl text-mauve text-center p-5",children:"Get in Touch"}),Object(I.jsx)("div",{className:"flex-col block justify-center",children:Object(I.jsxs)("form",{className:"text-center font-mont-alt text-lg text-slate border-grey border-1",children:[Object(I.jsxs)("div",{className:"flex-row space-between p-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("label",{className:"font-satisfy text-mauve text-xl",htmlFor:"name",children:"Name:"})}),Object(I.jsx)("div",{children:Object(I.jsx)("input",{type:"text",className:"flex-1 m-1 shadow font-mont-alt text-slate text-sm",name:"name",id:"name",placeholder:"name"})})]}),Object(I.jsxs)("div",{className:"flex-row space-between p-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("label",{className:"font-satisfy text-mauve text-xl",htmlFor:"email",children:"Email:"})}),Object(I.jsx)("div",{children:Object(I.jsx)("input",{type:"email",className:"flex-1 m-1 shadow font-mont-alt text-slate text-sm",name:"email",id:"email",placeholder:"email"})})]}),Object(I.jsxs)("div",{className:"flex-row space-between p-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("label",{className:"font-satisfy text-mauve text-xl",htmlFor:"message",children:"Message:"})}),Object(I.jsx)("div",{children:Object(I.jsx)("textarea",{type:"textarea",className:"flex-1 m-1 h-36 shadow font-mont-alt text-slate text-sm",name:"message",id:"message",placeholder:"write your message here",rows:4})})]}),Object(I.jsx)("div",{className:"float-center p-5",children:Object(I.jsx)("button",{type:"submit",className:"p-2 px-4 bg-blue rounded-md font-satisfy text-center text-slate text-3xl",children:"Submit"})})]})}),Object(I.jsx)("div",{className:"flex justify-center",children:Object(I.jsxs)("p",{className:"text-center text-slate text-lg font-mont-alt",children:["We aim to respond within 5 business days. ",Object(I.jsx)("br",{}),"Please keep an eye on your emails and double check your spam folder."]})})]})})},Ae=function(){return Object(I.jsx)("div",{className:"w-screen min-h-screen p-20 h-full",children:Object(I.jsxs)("div",{className:"m-10",children:[Object(I.jsx)("div",{className:"p-2 py-5 text-left",children:Object(I.jsx)("h2",{className:"font-satisfy text-slate text-6xl",children:"Our Policies"})}),Object(I.jsx)("div",{className:"p-2 py-2 text-left",children:Object(I.jsx)("h4",{className:"font-mont-alt text-xl text-mauve",children:"Sub Heading"})}),Object(I.jsx)("div",{className:"p-2 m-2 text-left",children:Object(I.jsxs)("p",{className:"font-mont-alt text-slate",children:["Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.",Object(I.jsx)("br",{}),"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.",Object(I.jsx)("br",{}),"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet."]})})]})})},Ie=function(){return Object(I.jsxs)("div",{className:"w-screen min-h-screen flex flex-col justify-center p-5",children:[Object(I.jsx)("h1",{className:"p-5 text-center text-5xl text-grey",children:"404 Page Not Found"}),Object(I.jsx)("div",{className:"",children:Object(I.jsx)("h1",{className:"font-satisfy text-blue text-7xl text-center p-5",children:"Oops! Looks like this page is missing."})})]})},Fe=function(e){var t=Object(n.useState)({email:"",password:""}),s=Object(u.a)(t,2),c=s[0],a=s[1],r=Object(Se.a)(_e),o=Object(u.a)(r,2),i=o[0],d=o[1].error,m=function(){var e=Object(ke.a)(Object(ye.a)().mark((function e(t){var s,n;return Object(ye.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,i({variables:{email:c.email,password:c.password}});case 4:s=e.sent,n=s.data.login.token,ue.login(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),j=function(e){var t=e.target,s=t.name,n=t.value;a(Object(l.a)(Object(l.a)({},c),{},Object(ie.a)({},s,n)))};return Object(I.jsx)("div",{className:"p-5 min-h-screen w-screen",children:Object(I.jsxs)("div",{className:"flex-col justify-center border-grey border-1 mb-10",children:[Object(I.jsx)("h2",{className:"font-satisfy text-5xl text-mauve text-center p-5",children:"Log Into Your Account"}),Object(I.jsx)("div",{className:"flex-col block justify-center",children:Object(I.jsxs)("form",{onSubmit:m,className:"text-center font-mont-alt text-lg text-slate border-grey border-1",children:[Object(I.jsxs)("div",{className:"flex-row space-between p-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("label",{className:"font-satisfy text-mauve text-xl",htmlFor:"email",children:"Email:"})}),Object(I.jsx)("div",{children:Object(I.jsx)("input",{type:"email",className:"flex-1 m-1 shadow font-mont-alt text-slate text-sm",name:"email",id:"email",placeholder:"email",onChange:j})})]}),Object(I.jsxs)("div",{className:"flex-row space-between p-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("label",{className:"font-satisfy text-mauve text-xl",htmlFor:"password",children:"Password:"})}),Object(I.jsx)("div",{children:Object(I.jsx)("input",{type:"password",className:"flex-1 m-1 shadow font-mont-alt text-slate text-sm",name:"password",id:"pwd",placeholder:"password",onChange:j})})]}),d?Object(I.jsx)("div",{children:Object(I.jsx)("p",{className:"font-mont-alt text-red",children:"The provided credentials are incorrect"})}):null,Object(I.jsx)("div",{className:"float-center p-5",children:Object(I.jsx)("button",{type:"submit",className:"p-2 px-4 bg-blue rounded-md font-satisfy text-center text-slate text-3xl",children:"Login"})})]})}),Object(I.jsx)("div",{className:"flex justify-center",children:Object(I.jsx)(x.b,{to:"/signup",className:"text-center text-slate text-lg font-mont-alt",children:"\u2190 Sign Up for an Account"})})]})})},Ue=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(u.a)(e,2),s=t[0],c=t[1],a=Object(Se.a)($e),r=Object(u.a)(a,2),o=r[0],i=r[1],d=(i.error,i.data,function(e){var t=e.target,n=t.name,a=t.value;c(Object(l.a)(Object(l.a)({},s),{},Object(ie.a)({},n,a)))}),m=function(){var e=Object(ke.a)(Object(ye.a)().mark((function e(t){var n,c;return Object(ye.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(s),e.prev=2,e.next=5,o({variables:Object(l.a)({},s)});case 5:n=e.sent,c=n.data,ue.login(c.addUser.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsx)("div",{className:"w-screen p-5 min-h-screen",children:Object(I.jsxs)("div",{className:"flex-col justify-center border-grey border-1 mb-10",children:[Object(I.jsx)("h2",{className:"font-satisfy text-5xl text-mauve text-center p-5",children:"Create an Account"}),Object(I.jsx)("div",{className:"flex-col block justify-center",children:Object(I.jsxs)("form",{className:"text-center font-mont-alt text-lg text-slate border-grey border-1",onSubmit:m,children:[Object(I.jsxs)("div",{className:"flex-row space-between p-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("label",{className:"font-satisfy text-mauve text-xl",htmlFor:"username",children:"Username:"})}),Object(I.jsx)("div",{children:Object(I.jsx)("input",{type:"text",className:"shadow flex-1 m-1 font-mont-alt text-slate text-sm",name:"username",id:"username",placeholder:"username",onChange:d})})]}),Object(I.jsxs)("div",{className:"flex-row space-between p-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("label",{className:"font-satisfy text-mauve text-xl",htmlFor:"email",children:"Email:"})}),Object(I.jsx)("div",{children:Object(I.jsx)("input",{type:"email",className:"shadow flex-1 m-1 font-mont-alt text-slate text-sm",name:"email",id:"email",placeholder:"email",onChange:d})})]}),Object(I.jsxs)("div",{className:"flex-row space-between p-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("label",{className:"font-satisfy text-mauve text-xl",htmlFor:"password",children:"Password:"})}),Object(I.jsx)("div",{children:Object(I.jsx)("input",{type:"password",className:"shadow flex-1 m-1 font-mont-alt text-slate text-sm",name:"password",id:"pwd",placeholder:"password",onChange:d})})]}),Object(I.jsx)("div",{className:"float-center p-5",children:Object(I.jsx)("button",{type:"submit",className:"p-2 px-4 bg-blue rounded-md font-satisfy text-center text-slate text-3xl",href:"#",children:"Create Account"})})]})}),Object(I.jsx)("div",{className:"flex justify-center",children:Object(I.jsx)(x.b,{to:"/login",className:"text-center text-slate text-lg font-mont-alt",children:"\u2190 Go to Login"})})]})})},Le=s(99),Re=s(100),ze=s.p+"static/media/accessorise-logo-shoe.80766fe9.png";var Be=function(){return Object(I.jsx)("nav",{className:"bg-blue w-screen items-center px-2 py-3 mb-3",children:Object(I.jsxs)("div",{className:"px-4 mx-auto flex flex-row g-4 items-center justify-between",children:[Object(I.jsx)("div",{className:"flex justify-between w-auto block",children:Object(I.jsxs)("ul",{className:"flex flex-row list-none lg:ml-auto items-center",children:[Object(I.jsx)("li",{className:"mx-1",children:Object(I.jsx)(x.b,{to:"/",children:Object(I.jsx)("h1",{className:"hidden sm:block text-slate font-satisfy lg:text-4xl sm:text-sm md:text-lg",children:"ACCESSorise"})})}),Object(I.jsx)("li",{className:"mx-1",children:Object(I.jsx)(x.b,{to:"/",children:Object(I.jsx)("img",{src:ze,className:"block h-8 w-auto items-center",title:"Accessorise logo",alt:"accessorise"})})})]})}),Object(I.jsx)("div",{className:"foat-left sm:float-center",children:Object(I.jsx)("ul",{className:"flex flex-row list-none lg:ml-auto",children:Object(I.jsx)("li",{className:"hidden sm:block mx-1 font-mont-alt text-slate text-xs md:text-sm lg:text-lg",children:Object(I.jsx)("p",{children:"ACCESSORIES FOR EVERY OCCASSION"})})})}),Object(I.jsx)("div",{className:"float-right",children:ue.loggedIn()?Object(I.jsxs)("ul",{className:"flex flex-row list-none lg:ml-auto w-screen",children:[Object(I.jsx)("li",{className:"mx-1",children:Object(I.jsx)(x.b,{to:"/search",children:Object(I.jsx)(p.a,{className:"h-6 lg:h-8 w-6 lg:w-8 fill-slate"})})}),Object(I.jsx)("li",{className:"mx-1",children:Object(I.jsx)(x.b,{to:"/bookings",children:Object(I.jsx)(Le.a,{className:"h-6 lg:h-8 w-6 lg:w-8 fill-slate"})})}),Object(I.jsx)("li",{className:"mx-1",children:Object(I.jsx)(x.b,{to:"/favourites",children:Object(I.jsx)(Oe.a,{className:"h-6 lg:h-8 w-6 lg:w-8 fill-slate"})})}),Object(I.jsx)("li",{className:"mx-1",children:Object(I.jsx)(x.b,{to:"/profile",children:Object(I.jsx)(Re.a,{className:"h-6 lg:h-8 w-6 lg:w-8 fill-slate"})})}),Object(I.jsx)("li",{className:"px-1 mx-1 font-mont-alt text-slate text-xs md:text-sm lg:text-lg hover:font-bold",children:Object(I.jsx)("a",{href:"/",onClick:function(){return ue.logout()},children:"Logout"})})]}):Object(I.jsxs)("ul",{className:"flex w-screen flex-row list-none lg:ml-auto",children:[Object(I.jsx)("li",{className:"px-1 mx-1 font-mont-alt text-slate text-xs md:text-sm lg:text-lg hover:font-bold",children:Object(I.jsx)(x.b,{to:"/signup",children:"Signup"})}),Object(I.jsx)("li",{className:"px-1 mx-1 font-mont-alt text-slate text-xs md:text-sm lg:text-lg hover:font-bold",children:Object(I.jsx)(x.b,{to:"/login",children:"Login"})})]})})]})})};var Ge=function(){return Object(I.jsx)("footer",{className:"bg-grey relative flex flex-wrap items-center justify-between px-3 py-4 pb-5 w-screen",children:Object(I.jsxs)("div",{className:"container px-4 mx-auto flex flex-wrap items-center justify-between",children:[Object(I.jsx)("div",{className:"w-full relative flex justify-between w-auto block lg:justify-start",children:Object(I.jsxs)("ul",{className:"flex flex-col list-none lg:ml-auto text-left",children:[Object(I.jsx)("li",{className:"mx-1 font-mont-alt text-slate text-xs md:text-sm lg:text-lg hover:font-bold",children:Object(I.jsx)(x.b,{to:"/policies",children:"Our policies"})}),Object(I.jsx)("li",{className:"mx-1 font-mont-alt text-slate text-xs md:text-sm lg:text-lg hover:font-bold",children:Object(I.jsx)(x.b,{to:"/contact",children:"Get in touch"})}),Object(I.jsx)("li",{className:"mx-1 font-mont-alt text-slate text-xs md:text-sm lg:text-lg hover:font-bold",children:Object(I.jsx)(x.b,{to:"/process",children:"How it works"})})]})}),Object(I.jsx)("div",{className:"float-right",children:Object(I.jsx)("ul",{className:"flex flex-row list-none lg:ml-auto",children:Object(I.jsx)("li",{className:"mx-1",children:Object(I.jsx)(x.b,{to:"/share",children:Object(I.jsx)(fe.a,{className:"h-6 lg:h-8 w-6 lg:w-8 fill-slate"})})})})})]})})},qe=function(e){return Object(I.jsxs)("div",{className:"container flex-1 mb-5",children:[Object(I.jsx)(x.b,{to:"/products/".concat(e._id),children:Object(I.jsxs)("div",{className:"container relative mb-1",children:[Object(I.jsx)("div",{children:Object(I.jsx)("a",{href:"#",alt:"product-page",children:Object(I.jsx)("img",{src:e.img,className:"w-full h-64 object-cover object-center border-mauve border-4",title:e.name,alt:"product image"})})}),Object(I.jsx)("div",{className:"absolute w-full bg-transparent bottom-px left-px items-end justify-end",children:Object(I.jsx)("div",{className:"w-full justify-center items-center transition duration-300 ease-in-out hover:scale-110",children:Object(I.jsx)("button",{className:"w-full bg-blue font-mont-alt text-lg p-3 py-3 border-2 border-mauve",id:"edit-booking",children:"Edit Booking"})})})]})}),Object(I.jsxs)("div",{className:"font-mont-alt text-left text-slate",children:[Object(I.jsx)(x.b,{to:"/products/".concat(e._id),children:Object(I.jsx)("h6",{className:"text-3xl font-semibold",children:e.name})}),Object(I.jsx)(x.b,{to:"/users/".concat(e.owner),children:Object(I.jsxs)("div",{className:"flex items-center",children:[Object(I.jsx)(de.a,{className:"block fill-pink h-6 w-6"}),Object(I.jsx)("p",{className:"px-2 text-2xl",children:e.owner})]})})]})]})};var We=function(){return Object(I.jsx)("div",{className:"container p-5 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 pb-3",children:ge.map((function(e){return Object(n.createElement)(qe,Object(l.a)(Object(l.a)({},e),{},{key:e.id}))}))})},Me=function(){var e=z(),t=Object(u.a)(e,2),s=t[0],c=t[1],a=Object(b.o)().id,r=(s.users,s.products),l=s.bookings,o=s.currentUser,i=Object(h.a)(q),d=i.loadingProducts,m=i.dataProducts,j=Object(h.a)(W),p=j.loading,f=j.data;Object(n.useEffect)((function(){f?(c({type:k,bookings:f.bookings}),f.bookings.forEach((function(e){Y("bookings","put",e)}))):p||Y("bookings","get").then((function(e){c({type:k,bookings:l})}))}),[f,p,c],0),Object(n.useEffect)((function(){m?(c({type:g,categories:f.products}),f.products.forEach((function(e){Y("products","put",e)}))):d||Y("products","get").then((function(e){c({type:g,products:r})}))}),[r,m,d,c,a],0);var O=function(e){c({type:v,currentProduct:e})};return Object(I.jsxs)("div",{className:"w-screen min-h-screen p-5 pb-10",children:[Object(I.jsxs)("div",{className:"flex flex-col float-left",children:[Object(I.jsx)("div",{className:"flex flex-wrap sm:flex-nowrap justify-center sm:justify-between items-center px-3",children:Object(I.jsxs)("div",{className:"flex flex-col  sm:flex-row justify-center md:justify-between items-center",children:[Object(I.jsx)("div",{className:"p-5 text-center sm:text-left float-left",children:Object(I.jsx)("div",{className:"flex items-center",children:Object(I.jsx)("h4",{className:"pl-1 font-satisfy text-xl md:text-2xl lg:text-3xl text-slate",children:"Booking History"})})}),Object(I.jsx)("div",{className:"block float-right",children:Object(I.jsx)("h6",{className:"px-1 mx-1 font-mont-alt text-slate text-xs md:text-sm lg:text-lg hover:font-bold",children:Object(I.jsx)(x.b,{to:"/me",children:"Back to Profile"})})})]})}),Object(I.jsx)("div",{className:"float-left",children:Object(I.jsx)("h5",{className:"mx-10 font-satisfy text-xl md:text-2xl lg:text-4xl text-mauve",children:"Upcoming"})}),Object(I.jsx)("div",{className:"flex pb-5 p-5",children:s.bookings.filter((function(e){return e.creator===o})).map((function(e){return Object(I.jsxs)("div",{className:"container flex-1 mb-5",children:[Object(I.jsx)(x.b,{to:"/products/".concat(e.product._id),onClick:function(){O("".concat(e.product._id))},children:Object(I.jsxs)("div",{className:"container relative mb-1",children:[Object(I.jsx)("div",{children:Object(I.jsx)("img",{src:e.product.image,className:"w-full h-64 object-cover object-center border-mauve border-4",title:e.product.name,alt:"product image"})}),Object(I.jsx)("div",{className:"absolute w-full bg-transparent bottom-px left-px items-end justify-end",children:Object(I.jsx)("div",{className:"w-full justify-center items-center transition duration-300 ease-in-out hover:scale-110",children:Object(I.jsx)("button",{className:"w-full bg-pink font-mont-alt text-lg p-3 py-3 border-2 border-mauve",id:"owner-return",children:"Mark Returned"})})})]})}),Object(I.jsxs)("div",{className:"font-mont-alt text-left text-slate",children:[Object(I.jsx)(x.b,{to:"/products/".concat(e.product._id),onClick:function(){O("".concat(e.product._id))},children:Object(I.jsx)("h6",{className:"text-3xl font-semibold",children:e.product.name})}),Object(I.jsx)(x.b,{to:"/users/".concat(e.product.owner),onClick:function(){!function(e){c({type:N,currentUser:e})}("".concat(e.product.owner))},children:Object(I.jsxs)("div",{className:"flex items-center",children:[Object(I.jsx)(de.a,{className:"block fill-pink h-6 w-6"}),Object(I.jsx)("p",{className:"px-2 text-2xl",children:e.product.owner})]})})]})]},e._id)}))}),Object(I.jsx)("div",{className:"float-left",children:Object(I.jsx)("h5",{className:"mx-10 font-satisfy text-xl md:text-2xl lg:text-4xl text-mauve",children:"Previous"})}),Object(I.jsx)("div",{className:"flex pb-5 p-5",children:Object(I.jsx)(We,{})})]}),Object(I.jsxs)("div",{className:"float-center flex flex-col border-grey border-t p-5 justify-center",children:[Object(I.jsx)("div",{className:"p-5 text-center sm:text-left float-left"}),Object(I.jsx)("div",{})]})]})},Xe=Object(o.a)({uri:"/graphql"}),He=Object(j.a)((function(e,t){var s=t.headers,n=localStorage.getItem("id_token");return{headers:Object(l.a)(Object(l.a)({},s),{},{authorization:n?"Bearer ".concat(n):""})}})),Ye=new i.a({link:He.concat(Xe),cache:new d.a});var Qe=function(){return Object(I.jsx)(m.a,{client:Ye,children:Object(I.jsx)(x.a,{children:Object(I.jsx)("div",{children:Object(I.jsxs)(R,{children:[Object(I.jsx)(Be,{}),Object(I.jsxs)(b.c,{children:[Object(I.jsx)(b.a,{path:"/",element:Object(I.jsx)(oe,{})}),Object(I.jsx)(b.a,{path:"/login",element:Object(I.jsx)(Fe,{})}),Object(I.jsx)(b.a,{path:"/me",element:Object(I.jsx)(De,{})}),Object(I.jsx)(b.a,{path:"/users/:id",element:Object(I.jsx)(De,{})}),Object(I.jsx)(b.a,{path:"/favourites",element:Object(I.jsx)(Ee,{})}),Object(I.jsx)(b.a,{path:"/contact",element:Object(I.jsx)(Te,{})}),Object(I.jsx)(b.a,{path:"/policies",element:Object(I.jsx)(Ae,{})}),Object(I.jsx)(b.a,{path:"/signup",element:Object(I.jsx)(Ue,{})}),Object(I.jsx)(b.a,{path:"/success"}),Object(I.jsx)(b.a,{path:"/booking-history",element:Object(I.jsx)(Me,{})}),Object(I.jsx)(b.a,{path:"/categories/:id",element:Object(I.jsx)(he,{})}),Object(I.jsx)(b.a,{path:"/products/:id",element:Object(I.jsx)(we,{})}),Object(I.jsx)(b.a,{path:"/bookings/:id",element:Object(I.jsx)(we,{})}),Object(I.jsx)(b.a,{path:"*",element:Object(I.jsx)(Ie,{})})]}),Object(I.jsx)(Ge,{})]})})})})},Ve=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Je(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var s=e.installing;null!=s&&(s.onstatechange=function(){"installed"===s.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(Qe,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Ve?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(s){var n=s.headers.get("content-type");404===s.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Je(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Je(t,e)}))}}()}},[[87,1,2]]]);
//# sourceMappingURL=main.486a1e18.chunk.js.map